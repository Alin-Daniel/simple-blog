(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),i=n.n(o),c=n(3),s=n(4),l=n(6),u=n(5),d=n(7),m=function(e){return e.children},p=n(42),f=n.n(p),h=(n(52),function(e){return r.a.createElement("div",{className:"Logo"},r.a.createElement("img",{src:f.a,alt:"logo"}))}),E=n(12),g=(n(53),function(e){return r.a.createElement("li",{className:"NavigationItem"},r.a.createElement(E.c,{to:e.link,activeClassName:"active",exact:e.exact},e.children))}),v=(n(58),function(e){return r.a.createElement("ul",{className:"NavigationItems"},r.a.createElement(g,{link:"/",exact:!0},"All Posts"),e.isAuthenticated?r.a.createElement(g,{link:"/new-post"},"New Post"):null,e.isAuthenticated?r.a.createElement(g,{link:"/logout"},"Logout"):r.a.createElement(g,{link:"/auth"},"Authenticate"))}),S=(n(59),function(e){return r.a.createElement("div",{onClick:e.clicked,className:"DrawerToggle"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),y=(n(60),function(e){return r.a.createElement("header",{className:"Toolbar"},r.a.createElement(S,{clicked:e.drawerToggleClicked}),r.a.createElement("div",{className:"Toolbar--logo"},r.a.createElement(h,null)),r.a.createElement("nav",{className:"DesktopOnly"},r.a.createElement(v,{isAuthenticated:e.isAuth})))}),C=(n(61),function(e){return e.show?r.a.createElement("div",{className:"Backdrop",onClick:e.clicked}):null}),T=(n(62),function(e){var t=["SideDrawer","Close"];return e.open&&(t=["SideDrawer","Open"]),r.a.createElement(m,null,r.a.createElement(C,{show:e.open,clicked:e.closed}),r.a.createElement("div",{className:t.join(" "),onClick:e.closed},r.a.createElement("div",{className:"SideDrawer--Logo"},r.a.createElement(h,null)),r.a.createElement("nav",null,r.a.createElement(v,{isAuthenticated:e.isAuth}))))}),b=n(8),O=(n(64),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showSideDrawer:!1},n.sideDrawerToggleHandler=function(){n.setState(function(e){return{showSideDrawer:!e.showSideDrawer}})},n.sideDrawerClosedHandler=function(){n.setState({showSideDrawer:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m,null,r.a.createElement(y,{drawerToggleClicked:this.sideDrawerToggleHandler,isAuth:null!==this.props.token}),r.a.createElement(T,{isAuth:null!==this.props.token,open:this.state.showSideDrawer,closed:this.sideDrawerClosedHandler}),r.a.createElement("main",{className:"Main--content"},this.props.children))}}]),t}(a.Component)),I=Object(b.b)(function(e){return{token:e.auth.token}})(O),j=n(17),_=(n(65),function(e){return r.a.createElement("button",{type:e.type,onClick:e.clicked,className:e.btnType,disabled:e.disabled},e.children)}),k=n(16),N=n(2),A=(n(66),function(e){var t=null,n=["InputElement"];switch(e.invalid&&e.touched&&n.push("Invalid"),e.elementType){case"input":t=r.a.createElement("input",Object.assign({className:n.join(" "),value:e.value},e.elementConfig,{onChange:e.changed}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({className:n.join(" "),value:e.value},e.elementConfig,{onChange:e.changed}));break;default:t=r.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return r.a.createElement("div",{className:"Input"},r.a.createElement("label",{className:"Label"},e.label),t)}),R=function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n},w=function(e,t){return Object(N.a)({},e,t)},D=function(e){var t={},n=[];return e.forEach(function(e,n){t[e.id]=n,e.replies=[]}),e.forEach(function(a){a.commentId?e[t[a.commentId]].replies.push(a):n.push(a)}),n},P=n(45),H=n.n(P).a.create({baseURL:"https://mini-blog-c3c8a.firebaseio.com/"}),U=function(e,t,n){return{type:"AUTH_SUCCESS",token:e,userId:t,displayName:n}},L=function(){return localStorage.removeItem("displayName"),localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},M=function(e){return function(t){setTimeout(function(){t(L())},1e3*e)}},F=function(e,t,n){H.post(e,t).then(function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),localStorage.setItem("displayName",e.data.displayName),n(U(e.data.idToken,e.data.localId,e.data.displayName)),n(M(e.data.expiresIn))}).catch(function(e){n(function(e){return{type:"AUTH_FAIL",error:e}}(e.response.data.error))})},x=function(e,t,n,a){return function(r){r({type:"AUTH_START"});var o={email:e,password:t,displayName:n,returnSecureToken:!0},i="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyDTYRsrn4mw0wz479WjmMS4QY9n4mEV0XY";if(a||(i="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyDTYRsrn4mw0wz479WjmMS4QY9n4mEV0XY"),a)return r(function(e){return function(t){return t({type:"CREATE_USER_EXISTS_START"}),H.get("https://mini-blog-c3c8a.firebaseio.com/users.json").then(function(n){if(n.data){if(Object.keys(n.data).map(function(e){return Object(N.a)({id:e},n.data[e])}).findIndex(function(t){return t.displayName===e})>-1)throw new Error("username already exists");t({type:"CREATE_USER_EXISTS_SUCCESS"})}},function(e){throw e})}}(n)).then(function(){F(i,o,r),r(function(e){return function(t){t({type:"CREATE_USER_START"}),H.post("https://mini-blog-c3c8a.firebaseio.com/users.json",{displayName:e}).then(function(e){t({type:"CREATE_USER_SUCCESS"})}).catch(function(e){t(function(e){return{type:"CREATE_USER_START",error:e}}(e)),console.log(e)})}}(n))}).catch(function(e){r(function(e){return{type:"CREATE_USER_EXISTS_FAIL",error:e}}(e))});F(i,o,r)}},V=function(e){return{type:"SET_AUTH_REDIRECT_PATH",path:e}},q=function(){return{type:"DELETE_POST_START"}},z=function(e){return{type:"COMMENTING",commenting:e}},G=function(e){return function(t){t({type:"FETCH_COMMENTS_START"}),H.get("/posts/"+e+'/comments.json?&orderBy="$key"').then(function(e){var n=null;n=null!==e.data?Object.keys(e.data).map(function(t){return Object(N.a)({id:t},e.data[t],{date:new Date(e.data[t].date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})}).sort():[],t(function(e){return{type:"FETCH_COMMENTS_SUCCESS",comments:e}}(n))}).catch(function(e){console.log(e),t(function(e){return{type:"FETCH_COMMENTS_FAILED",error:e}}(e))})}},B=function(e,t,n){return function(a){a({type:"CREATE_COMMENT_START"});var r="/posts/"+e+"/comments.json?auth="+t;H.post(r,n).then(function(e){var t=Object(N.a)({id:e.data.name},n,{date:new Date(n.date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})});a({type:"CREATE_COMMENT_SUCCESS",comment:t})}).catch(function(e){console.log(e),a(function(e){return{type:"CREATE_COMMENT_FAIL",error:e}}(e))})}},W=function(e,t,n){return function(a){a({type:"DELETE_COMMENT_START"}),H.delete("/posts/"+e+"/comments/"+t+".json?auth="+n).then(function(e){a(function(e){return{type:"DELETE_COMMENT_SUCCESS",id:e}}(t))}).catch(function(e){console.log(e),a(function(e){return{type:"DELETE_COMMENT_FAIL",error:e}}(e))})}},X=function(e,t,n,a){return function(r){r({type:"EDIT_COMMENT_START"}),H.patch("/posts/"+t+"/comments/"+e+".json?auth="+n,a).then(function(t){a=Object(N.a)({id:e},a),r(function(e){return{type:"EDIT_COMMENT_SUCCESS",editedComment:e}}(a))}).catch(function(e){r(function(e){return{type:"EDIT_COMMENT_FAIL",error:e}}(e)),console.log(e)})}},Y=(n(83),function(e){return r.a.createElement("div",{className:"Loader"},"Loading...")}),$=(n(84),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={controls:{displayName:{elementType:"input",elementConfig:{type:"text",placeholder:"Display Name"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},formIsValid:!1},n.inputchangeHandler=function(e,t){var a=Object(N.a)({},n.state.controls,Object(k.a)({},t,Object(N.a)({},n.state.controls[t],{value:e.target.value,valid:R(e.target.value,n.state.controls[t].validation),touched:!0}))),r=!0;for(var o in a)r=a[o].valid&&r;n.setState({controls:a,formIsValid:r})},n.formSubmitHandler=function(e){e.preventDefault(),n.props.onAuth(n.state.controls.email.value,n.state.controls.password.value,n.state.controls.displayName.value,n.props.isSignUp)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var a=t.map(function(t){return r.a.createElement(A,{key:t.id,value:t.config.value,elementConfig:t.config.elementConfig,touched:t.config.touched,invalid:!t.config.valid,changed:function(n){return e.inputchangeHandler(n,t.id)}})});this.props.loading&&(a=r.a.createElement(Y,null));var o=null;return this.props.error&&(o=r.a.createElement("p",{className:"SignUp--error"},this.props.error.message)),r.a.createElement(m,null,o,r.a.createElement("form",{onSubmit:function(t){return e.formSubmitHandler(t)}},a,r.a.createElement(_,{btnType:"Submit",disabled:!this.state.formIsValid},"Submit")))}}]),t}(a.Component)),J=Object(b.b)(function(e){return{error:e.auth.error,loading:e.auth.loading}},function(e){return{onAuth:function(t,n,a,r){return e(x(t,n,a,r))}}})($),Q=(n(85),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},formIsValid:!1},n.inputchangeHandler=function(e,t){var a=Object(N.a)({},n.state.controls,Object(k.a)({},t,Object(N.a)({},n.state.controls[t],{value:e.target.value,valid:R(e.target.value,n.state.controls[t].validation),touched:!0}))),r=!0;for(var o in a)r=a[o].valid&&r;n.setState({controls:a,formIsValid:r})},n.formSubmitHandler=function(e){e.preventDefault(),n.props.onAuth(n.state.controls.email.value,n.state.controls.password.value,n.props.isSignUp)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var a=t.map(function(t){return r.a.createElement(A,{key:t.id,value:t.config.value,elementConfig:t.config.elementConfig,touched:t.config.touched,invalid:!t.config.valid,changed:function(n){return e.inputchangeHandler(n,t.id)}})});this.props.loading&&(a=r.a.createElement(Y,null));var o=null;return this.props.error&&(o=r.a.createElement("p",{className:"SignIn--error"},this.props.error.message)),r.a.createElement("form",{onSubmit:function(t){return e.formSubmitHandler(t)}},o,a,r.a.createElement(_,{btnType:"Submit",disabled:!this.state.formIsValid},"Submit"))}}]),t}(a.Component)),K=Object(b.b)(function(e){return{isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath,error:e.auth.error,loading:e.auth.loading}},function(e){return{onAuth:function(t,n,a,r){return e(x(t,n,a,r))}}})(Q),Z=(n(86),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isSignUp:!1},n.switchAuthModeHandler=function(){n.setState(function(e){return{isSignUp:!e.isSignUp}})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.commenting||"/"===this.props.authRedirectPath||this.props.onSetAuthRedirectPath()}},{key:"render",value:function(){var e=null;return this.props.isAuthenticated&&(e=r.a.createElement(j.a,{to:this.props.authRedirectPath})),r.a.createElement("div",{className:"Auth"},e,this.state.isSignUp?r.a.createElement(J,{isSignUp:this.state.isSignUp}):r.a.createElement(K,{isSignUp:this.state.isSignUp}),r.a.createElement(_,{clicked:this.switchAuthModeHandler,btnType:"Danger"},"SWITCH TO ",this.state.isSignUp?"SIGN IN":"SIGN UP"))}}]),t}(a.Component)),ee=Object(b.b)(function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath,commenting:e.comment.commenting}},function(e){return{onSetAuthRedirectPath:function(){return e(V("/"))}}})(Z),te=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return r.a.createElement(j.a,{to:"/"})}}]),t}(a.Component),ne=Object(b.b)(null,function(e){return{onLogout:function(){return e(L())}}})(te),ae=n(24),re=n(25),oe=(n(89),function(e){var t=r.a.createElement(ae.a,{icon:re.a});return r.a.createElement(m,null,r.a.createElement("article",{className:"Post"},r.a.createElement("h1",{onClick:e.clicked},e.title),r.a.createElement("div",{className:"PostBody"},r.a.createElement("div",{className:"Post--header"},r.a.createElement("div",{className:"Post--author"},"By: ",e.displayName),r.a.createElement("span",{className:"Post--date"},r.a.createElement("time",{dateTime:e.date},e.date)),r.a.createElement("span",{className:"Post--counter"},t," ",e.totalComments," comments")),r.a.createElement("div",{className:"Post--content"},r.a.createElement("p",null,e.content)))))}),ie=(n(90),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(m,null,r.a.createElement(C,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:"Modal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(a.Component)),ce=function(e,t){return function(n){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={error:null},t.errorConfirmedHandler=function(){t.setState({error:null})},t}return Object(d.a)(a,n),Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use(function(t){return e.setState({error:null}),t}),this.resInterceptor=t.interceptors.response.use(function(e){return e},function(t){e.setState({error:t})})}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return r.a.createElement(m,null,r.a.createElement(ie,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),r.a.createElement(e,this.props))}}]),a}(a.Component)},se=(n(91),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={people:""},n.singlePostHandler=function(e){n.props.history.push("/posts/"+e)},n.onShowAllCommentsHandler=function(e){var t=0;return e.comments?Object.keys(e.comments).length:t},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onCommenting(!1),this.props.onFetchPosts()}},{key:"render",value:function(){var e=this,t=null;return this.props.error||(t=this.props.posts.map(function(t){return r.a.createElement(oe,{key:t.id,title:t.title,id:t.id,displayName:t.displayName,content:t.content,date:t.date,clicked:function(){return e.singlePostHandler(t.id)},comments:t.comments,totalComments:e.onShowAllCommentsHandler(t)})})),r.a.createElement("div",null,this.props.loading?r.a.createElement(Y,null):r.a.createElement("section",{className:"Posts"},t))}}]),t}(a.Component)),le=Object(j.g)(Object(b.b)(function(e){return{posts:e.post.posts,error:e.post.error,loading:e.post.loading}},function(e){return{onFetchPosts:function(){return e(function(e){e({type:"FETCH_POSTS_START"}),H.get("/posts.json").then(function(t){if(t.data){var n=Object.keys(t.data).map(function(e){return Object(N.a)({id:e},t.data[e],{date:new Date(t.data[e].date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})}).sort();e(function(e){return{type:"FETCH_POSTS_SUCCESS",posts:e}}(n))}}).catch(function(t){console.log(t),e(function(e){return{type:"FETCH_POSTS_FAILED",error:e}}(t))})})},onCommenting:function(t){return e(z(t))}}})(ce(se,H))),ue=(n(92),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m,null,r.a.createElement("div",{className:"Blog"},r.a.createElement(le,null)))}}]),t}(a.Component)),de=(n(93),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formControls:{title:{elementType:"input",elementConfig:{type:"text",placeholder:"Title"},value:"",validation:{required:!0},valid:!1,touched:!1},content:{elementType:"textarea",elementConfig:{placeholder:"Write something",rows:5},value:"",validation:{required:!0},valid:!1,touched:!1}},formIsValid:!1},n.submitHandler=function(e){e.preventDefault();var t={};for(var a in t.date=(new Date).toLocaleDateString(),t.displayName=n.props.displayName,t.userId=n.props.userId,n.state.formControls)t[a]=n.state.formControls[a].value;n.props.onCreatePost(t,n.props.token),n.props.history.push("/");var r=Object(N.a)({},n.state.formControls);for(var o in n.state.formControls){var i=Object(N.a)({},n.state.formControls[o]);i.value="",r[o]=i}n.setState({formControls:r})},n.inputChangeHandler=function(e,t){var a=Object(N.a)({},n.state.formControls),r=Object(N.a)({},n.state.formControls[t]);r.value=e.target.value,r.touched=!0,r.valid=R(e.target.value,n.state.formControls[t].validation),a[t]=r;var o=!0;for(var i in a)o=o&&a[i].valid;n.setState({formControls:a,formIsValid:o})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.formControls)t.push({id:n,config:this.state.formControls[n]});var a=r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("fieldset",{disabled:!this.props.token},t.map(function(t){return r.a.createElement(A,{key:t.id,elementType:t.config.elementType,value:t.config.value,elementConfig:t.config.elementConfig,touched:t.config.touched,invalid:!t.config.valid,changed:function(n){return e.inputChangeHandler(n,t.id)}})})),r.a.createElement(_,{disabled:!this.state.formIsValid||!this.props.token,btnType:"Submit"},"Submit"));return r.a.createElement("div",{className:"NewPost--form"},a)}}]),t}(a.Component)),me=Object(b.b)(function(e){return{token:e.auth.token,userId:e.auth.userId,displayName:e.auth.displayName}},function(e){return{onCreatePost:function(t,n){return e(function(e,t){return function(n){H.post("/posts.json?auth="+t,e).then(function(t){e=Object(N.a)({},e,{date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),n(function(e,t){return{type:"CREATE_POST_SUCCESS",newPost:e,id:t}}(e,t.data.name))}).catch(function(e){n(function(e){return{type:"CREATE_POST_FAIL",error:e}}(e))})}}(t,n))}}})(de),pe=(n(94),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formControls:{editComment:{elementType:"textarea",elementConfig:{autoFocus:!0,placeholder:"",rows:5},value:n.props.value,validation:{required:!0,minLength:1},valid:!1,touched:!1}},formIsValid:!1},n.onChangeHandler=function(e,t){var a=Object(N.a)({},n.state.formControls),r=Object(N.a)({},n.state.formControls[t]);r.value=e.target.value,r.valid=R(e.target.value,n.state.formControls[t].validation),r.touched=!0,a[t]=r;var o=!0;for(var i in a)o=o&&a[i].valid;n.setState({formControls:a,formIsValid:o})},n.onSubmitHandler=function(e){e.preventDefault();var t={date:(new Date).toLocaleDateString(),commentId:n.props.isEditReply?n.props.commentId:n.props.selectedReply,content:n.state.formControls.editComment.value,displayName:n.props.displayName,userId:n.props.userId};if(n.props.isReply)n.props.onCreateReply(n.props.postId,n.props.token,t,n.props.selectedReply);else if(n.props.isEditReply)n.props.onEditReply(n.props.replyId,n.props.postId,n.props.token,t);else{var a=Object(N.a)({},t,{commentId:null});n.props.onEditComment(n.props.commentId,n.props.postId,n.props.token,a)}n.props.cancelEdit()},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.formControls)t.push({id:n,config:this.state.formControls[n]});var a=r.a.createElement("form",{onSubmit:this.onSubmitHandler},r.a.createElement("fieldset",{disabled:!this.props.isAuth},t.map(function(t){return r.a.createElement(A,{key:t.id,elementType:t.config.elementType,value:t.config.value,elementConfig:t.config.elementConfig,touched:t.config.touched,invalid:!t.config.valid,changed:function(n){return e.onChangeHandler(n,t.id)}})})),r.a.createElement("div",{className:"EditActions"},r.a.createElement(_,{disabled:!this.state.formIsValid||!this.props.isAuth,btnType:"Success"},this.props.isReply?"Submit":"Save"),r.a.createElement(_,{type:"button",clicked:this.props.cancelEdit,disabled:!this.props.isAuth,btnType:"Danger"},"Cancel")));return r.a.createElement("div",{className:"EditComment--input"},a)}}]),t}(a.Component)),fe=Object(b.b)(function(e){return{userId:e.auth.userId,token:e.auth.token,displayName:e.auth.displayName,isAuth:null!==e.auth.token}},function(e){return{onEditComment:function(t,n,a,r){return e(X(t,n,a,r))},onFetchComments:function(){return e(G())},onCreateReply:function(t,n,a,r){return e(B(t,n,a))}}})(pe),he=(n(95),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isEditing:!1,selectedReply:null,reply:!1},n.onReplyHandler=function(e){n.props.token?(n.setState({reply:!0}),n.setState({selectedReply:e})):n.props.history.push("/auth")},n.onEditHandler=function(e){n.setState({isEditing:!0}),n.setState({selectedReply:e})},n.onCancelEdit=function(){n.setState({isEditing:!1}),n.setState({reply:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,n=null;return this.props.comment.replies&&(n=Object.keys(this.props.comment.replies).map(function(t){return Object(N.a)({},e.props.comment.replies[t],{key:t,date:new Date(e.props.comment.replies[t].date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})}).map(function(n,a){return!e.state.isEditing&&!e.state.reply||e.state.selectedReply!==n.id?r.a.createElement("div",{className:"Reply",key:n.id},r.a.createElement("div",{className:"ReplyBody"},r.a.createElement("div",{className:"Reply--header"},r.a.createElement("div",{className:"Reply--author"},r.a.createElement("strong",null,n.displayName)),r.a.createElement("span",{className:"Reply--date"},r.a.createElement("time",{dateTime:n.date},n.date))),r.a.createElement("div",{className:"Reply--content"},r.a.createElement("p",null,n.content)),r.a.createElement("div",{className:"Reply--actions"},r.a.createElement(_,{clicked:function(){return e.onReplyHandler(n.id)},btnType:"Success"},"Reply"),e.props.token&&e.props.userId===n.userId?r.a.createElement(_,{clicked:function(){return e.onEditHandler(n.id)},btnType:"Success"},"Edit"):null,e.props.token&&e.props.userId===n.userId?r.a.createElement(_,{btnType:"Danger",clicked:function(){return e.props.onDeleteReply(e.props.postId,n.id,e.props.token)}},"Delete"):null),n.replies&&r.a.createElement(t,Object.assign({},e.props,{comment:n})))):r.a.createElement(fe,{key:n.id,value:e.state.reply?"":n.content,cancelEdit:e.onCancelEdit,onEditReply:e.props.onEditReply,replyId:n.id,isEditReply:e.state.isEditing,isReply:e.state.reply,postId:e.props.postId,commentId:n.commentId,selectedReply:e.state.selectedReply,onCreateReply:e.props.onCreateReply})})),n}}]),t}(a.Component)),Ee=Object(j.g)(Object(b.b)(function(e){return{token:e.auth.token,replies:e.comment.replies,userId:e.auth.userId}},function(e){return{onEditReply:function(t,n,a,r){return e(X(t,n,a,r))},onDeleteReply:function(t,n,a){return e(W(t,n,a))},onCreateReply:function(t,n,a){return e(B(t,n,a))}}})(he)),ge=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=null;return this.props.comments&&(t=this.props.comments.map(function(t){return r.a.createElement("div",{className:"Comment",key:t.id},!e.props.editing&&!e.props.reply||t.id!==e.props.selectedComment?r.a.createElement("div",{className:"CommentBody"},r.a.createElement("div",{className:"Comment--header"},r.a.createElement("div",{className:"Comment--author"},r.a.createElement("strong",null,t.displayName)),r.a.createElement("span",{className:"Comment--date"},r.a.createElement("time",{dateTime:t.date},t.date))),r.a.createElement("div",{className:"Comment--content"},r.a.createElement("p",null,t.content)),r.a.createElement("div",{className:"Comment--actions"},r.a.createElement(_,{btnType:"Success",clicked:function(){return e.props.onReply(t.id)}},e.props.token?"Reply":"Login"),e.props.userId===t.userId&&r.a.createElement(_,{btnType:"Success",clicked:function(){return e.props.onEdit(t.id)}},"Edit"),e.props.userId===t.userId&&r.a.createElement(_,{btnType:"Danger",clicked:function(){return e.props.onDeleteComment(e.props.postId,t.id,e.props.token)}},"Delete")),r.a.createElement(Ee,{comment:t,commentId:t.id,postId:e.props.postId})):r.a.createElement(fe,{cancelEdit:e.props.cancelEdit,commentId:t.id,selectedReply:e.props.selectedComment,postId:e.props.postId,value:e.props.reply?"":t.content,isReply:e.props.reply}))})),t}}]),t}(a.Component),ve=Object(b.b)(function(e){return{replies:e.comment.replies}},function(e){return{onFetchComments:function(t){return e(G(t))}}})(ge),Se=(n(96),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formControls:{comment:{elementType:"textarea",elementConfig:{placeholder:"Leave a comment",rows:5},value:"",validation:{required:!0,minLength:1},valid:!1,touched:!1}},formIsValid:!1,selectedComment:null,editing:!1,reply:!1},n.onChangeHandler=function(e,t){var a=Object(N.a)({},n.state.formControls),r=Object(N.a)({},n.state.formControls[t]);r.value=e.target.value,r.valid=R(e.target.value,n.state.formControls[t].validation),r.touched=!0,a[t]=r;var o=!0;for(var i in a)o=o&&a[i].valid;n.setState({formControls:a,formIsValid:o})},n.onSubmitHandler=function(e){e.preventDefault();var t={date:(new Date).toLocaleDateString(),content:n.state.formControls.comment.value,displayName:n.props.displayName,userId:n.props.userId};n.props.onCreateComment(n.props.postId,n.props.token,t);var a=Object(N.a)({},n.state.formControls),r=Object(N.a)({},n.state.formControls.comment);r.value="",a.comment=r,n.setState({formControls:a})},n.redirectHandler=function(){n.props.onSetAuthRedirectPath("/posts/"+n.props.postId),n.props.onCommenting(!0),n.props.history.push("/auth")},n.onEditingHandler=function(e){n.setState({editing:!0}),n.setState({selectedComment:e})},n.onReplyHandler=function(e){n.props.isAuth?(n.setState({reply:!0}),n.setState({selectedComment:e})):n.props.history.push("/auth")},n.onCancelEditingHandler=function(){n.setState({editing:!1}),n.setState({reply:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchComments(this.props.postId)}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.formControls)t.push({id:n,config:this.state.formControls[n]});var a=r.a.createElement("form",{onSubmit:this.onSubmitHandler},r.a.createElement("fieldset",{disabled:!this.props.token},t.map(function(t){return r.a.createElement(A,{key:t.id,elementType:t.config.elementType,value:t.config.value,elementConfig:t.config.elementConfig,touched:t.config.touched,invalid:!t.config.valid,changed:function(n){return e.onChangeHandler(n,t.id)}})})),this.props.isAuth?r.a.createElement(_,{disabled:!this.state.formIsValid||!this.props.isAuth,btnType:"Submit"},"Submit"):r.a.createElement(E.b,{to:"/auth"},r.a.createElement(_,{clicked:this.redirectHandler,btnType:"Submit"},"Sign In to comment"))),o=r.a.createElement(ve,{reply:this.state.reply,editing:this.state.editing,selectedComment:this.state.selectedComment,comments:D(this.props.comments),postId:this.props.postId,userId:this.props.userId,onReply:this.onReplyHandler,cancelEdit:this.onCancelEditingHandler,onEdit:this.onEditingHandler,onDeleteComment:this.props.onDeleteComment,token:this.props.token});return this.props.loading&&(o=r.a.createElement(Y,null)),r.a.createElement("div",{className:"Comment--input"},o,a)}}]),t}(a.Component)),ye=Object(j.g)(Object(b.b)(function(e){return{isAuth:null!==e.auth.token,token:e.auth.token,userId:e.auth.userId,displayName:e.auth.displayName,comments:e.comment.comments,editing:e.comment.editing,loading:e.comment.loading}},function(e){return{onFetchComments:function(t){return e(G(t))},onCreateComment:function(t,n,a){return e(B(t,n,a))},onSetAuthRedirectPath:function(t){return e(V(t))},onDeleteComment:function(t,n,a){return e(W(t,n,a))},onCommenting:function(t){return e(z(t))}}})(ce(Se,H))),Ce=(n(97),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formControls:{title:{elementType:"input",elementConfig:{type:"text",placeholder:""},value:n.props.titleValue,validation:{required:!0},valid:!1,touched:!1},content:{elementType:"textarea",elementConfig:{placeholder:"",rows:5},value:n.props.contentValue,validation:{required:!0},valid:!1,touched:!1}},formIsValid:!1},n.submitHandler=function(e){e.preventDefault();var t={};for(var a in t.date=(new Date).toLocaleDateString(),t.displayName=n.props.displayName,t.userId=n.props.userId,n.state.formControls)t[a]=n.state.formControls[a].value;n.props.onEditPost(n.props.postId,n.props.token,t),n.props.cancel()},n.inputChangeHandler=function(e,t){var a=w(n.state.formControls[t],{value:e.target.value,touched:!0,valid:R(e.target.value,n.state.formControls[t].validation)}),r=w(n.state.formControls,Object(k.a)({},t,a)),o=!0;for(var i in r)o=o&&R(n.state.formControls[i].value,n.state.formControls[i].validation);n.setState({formControls:r,formIsValid:o})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.formControls)t.push({id:n,config:this.state.formControls[n]});var a=r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("fieldset",{disabled:!this.props.token},t.map(function(t){return r.a.createElement(A,{key:t.id,elementType:t.config.elementType,value:t.config.value,elementConfig:t.config.elementConfig,touched:t.config.touched,invalid:!t.config.valid,changed:function(n){return e.inputChangeHandler(n,t.id)}})})),r.a.createElement("div",{className:"EditPost--actions"},r.a.createElement(_,{disabled:!this.state.formIsValid||!this.props.token,btnType:"Success"},"Save"),r.a.createElement(_,{type:"button",clicked:this.props.cancel,disabled:!this.props.token,btnType:"Danger"},"Cancel")));return r.a.createElement("div",{className:"EditPost--form"},a)}}]),t}(a.Component)),Te=Object(b.b)(function(e){return{token:e.auth.token,userId:e.auth.userId,displayName:e.auth.displayName}},function(e){return{onEditPost:function(t,n,a){return e(function(e,t,n){return function(a){a({type:"EDIT_POST_START"}),H.patch("/posts/"+e+".json?auth="+t,n).then(function(t){n=Object(N.a)({id:e},n,{date:new Date(n.date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),a(function(e){return{type:"EDIT_POST_SUCCESS",editedPost:e}}(n))}).catch(function(e){console.log(e),a(function(e){return{type:"EDIT_POST_FAIL",error:e}}(e))})}}(t,n,a))}}})(Ce),be=(n(98),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1},n.onDeleteHandler=function(e){n.props.onDeletePost(e,n.props.token),n.props.loading||n.props.history.replace("/")},n.onEditHandler=function(){n.setState({editing:!0})},n.onCancelEditHandler=function(e){n.setState({editing:!1})},n.onShowAllCommentsHandler=function(){var e=0;return n.props.comments.length>0&&(e=n.props.comments.length),e},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.onFetchSinglePost(e),this.onShowAllCommentsHandler()}},{key:"render",value:function(){var e=this,t=r.a.createElement(ae.a,{icon:re.a}),n=null;return this.props.singlePost&&(n=this.props.singlePost.map(function(n){return e.state.editing?r.a.createElement(Te,{titleValue:n.title,contentValue:n.content,postId:n.id,cancel:e.onCancelEditHandler,key:n.id}):r.a.createElement("article",{className:"SinglePost",key:n.id},r.a.createElement("h1",{className:"SinglePost--title"},n.title),r.a.createElement("div",{className:"SinglePost--body"},r.a.createElement("div",{className:"SinglePost--header"},r.a.createElement("div",{className:"SinglePost--author"},r.a.createElement("strong",null,n.displayName)),r.a.createElement("span",{className:"SinglePost--date"},r.a.createElement("time",{dateTime:n.date},n.date)),r.a.createElement("span",{className:"SinglePost--counter"},t," ",e.onShowAllCommentsHandler()," comments")),r.a.createElement("div",{className:"SinglePost--content"},r.a.createElement("p",null,n.content)),r.a.createElement("div",{className:"SinglePost--actions"},e.props.userId===n.userId&&r.a.createElement(_,{clicked:e.onEditHandler,btnType:"Success",className:"Edit"},"Edit"),e.props.userId===n.userId&&r.a.createElement(_,{btnType:"Danger",clicked:function(){return e.onDeleteHandler(n.id)},className:"Delete"},"Delete"))))})),r.a.createElement(m,null,n,r.a.createElement(ye,{postId:this.props.match.params.id}))}}]),t}(a.Component)),Oe=Object(b.b)(function(e){return{token:e.auth.token,userId:e.auth.userId,singlePost:e.post.singlePost,comments:e.comment.comments,loading:e.post.loading}},function(e){return{onDeletePost:function(t,n){return e(function(e,t){return function(n){n(q),H.delete("/posts/"+e+".json?auth="+t).then(function(t){n(function(e){return{type:"DELETE_POST_SUCCESS",id:e}}(e))}).catch(function(e){n(function(e){return{type:"DELETE_POST_FAIL",error:e}}(e))})}}(t,n))},onFetchSinglePost:function(t){return e(function(e){return function(t){t({type:"FETCH_SINGLE_POST_START"}),H.get('/posts.json?orderBy="$key"&equalTo="'+e+'"').then(function(e){var n=Object.keys(e.data).map(function(t){return Object(N.a)({id:t},e.data[t],{date:new Date(e.data[t].date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})});t(function(e){return{type:"FETCH_SINGLE_POST_SUCCESS",singlePost:e}}(n))}).catch(function(e){t(function(e){return{type:"FETCH_SINGLE_POST_FAIL",error:e}}(e))})}}(t))}}})(ce(be,H)),Ie=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignUp()}},{key:"render",value:function(){var e=r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/auth",component:ee}),r.a.createElement(j.b,{path:"/posts/:id",component:Oe,exact:!0}),r.a.createElement(j.b,{path:"/",component:ue,exact:!0}),r.a.createElement(j.a,{to:"/"}));return null!==this.props.token&&(e=r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/new-post",component:me})," }",r.a.createElement(j.b,{path:"/logout",component:ne}),r.a.createElement(j.b,{path:"/auth",component:ee}),r.a.createElement(j.b,{path:"/posts/:id",component:Oe,exact:!0}),r.a.createElement(j.b,{path:"/",component:ue,exact:!0}),r.a.createElement(j.a,{to:"/"}))),r.a.createElement("div",null,r.a.createElement(I,null,e))}}]),t}(a.Component),je=Object(b.b)(function(e){return{isAuthenticated:null!==e.auth.token,token:e.auth.token}},function(e){return{onTryAutoSignUp:function(){return e(function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(new Date<n){var a=localStorage.getItem("userId"),r=localStorage.getItem("displayName");e(U(t,a,r)),e(M((n.getTime()-(new Date).getTime())/1e3))}else e(L())}else e(L())})}}})(Ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=n(19),ke=n(46),Ne={token:null,userId:null,displayName:null,authRedirectPath:"/",loading:!1,error:null},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return arguments.length>1&&arguments[1],w(e,{error:null,loading:!0})}(e,t);case"AUTH_SUCCESS":return function(e,t){return w(e,{token:t.token,userId:t.userId,displayName:t.displayName,error:null,loading:!1})}(e,t);case"AUTH_FAIL":return function(e,t){return w(e,{error:t.error,loading:!1})}(e,t);case"AUTH_LOGOUT":return function(e,t){return w(e,{token:null,userId:null,displayName:null})}(e);case"SET_AUTH_REDIRECT_PATH":return function(e,t){return w(e,{authRedirectPath:t.path})}(e,t);case"CREATE_USER_START":return function(e,t){return w(e,{loading:!0})}(e);case"CREATE_USER_SUCCESS":return function(e,t){return w(e,{loading:!1})}(e);case"CREATE_USER_FAIL":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);case"CREATE_USER_EXISTS_START":return function(e,t){return w(e,{loading:!0})}(e);case"CREATE_USER_EXISTS_SUCCESS":return function(e,t){return w(e,{loading:!1})}(e);case"CREATE_USER_EXISTS_FAIL":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);default:return e}},Re={comments:[],loading:!1,error:!1,commenting:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENTING":return function(e,t){return w(e,{commenting:t.commenting})}(e,t);case"FETCH_COMMENTS_START":return function(e,t){return w(e,{loading:!0})}(e);case"FETCH_COMMENTS_SUCCESS":return function(e,t){return w(e,{loading:!1,comments:t.comments})}(e,t);case"FETCH_COMMENTS_FAILED":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);case"CREATE_COMMENT_START":return function(e,t){return w(e,{loading:!0})}(e);case"CREATE_COMMENT_SUCCESS":return function(e,t){return w(e,{loading:!1,comments:e.comments.concat(t.comment)})}(e,t);case"CREATE_COMMENT_FAIL":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);case"DELETE_COMMENT_START":return function(e,t){return w(e,{loading:!0})}(e);case"DELETE_COMMENT_SUCCESS":return function(e,t){return w(e,{loading:!1,comments:e.comments.filter(function(e){return e.id!==t.id})})}(e,t);case"DELETE_COMMENT_FAIL":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);case"EDIT_COMMENT_START":return function(e,t){return w(e,{loading:!0})}(e);case"EDIT_COMMENT_SUCCESS":return function(e,t){var n=e.comments.findIndex(function(e){return e.id===t.editedComment.id}),a=e.comments.slice(0);return a[n].content=t.editedComment.content,w(e,{loading:!1,comments:a})}(e,t);case"EDIT_COMMENT_FAIL":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);default:return e}},De=n(26),Pe={posts:[],loading:!1,error:!1,singlePost:[]},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_POST_START":return function(e,t){return w(e,{loading:!0})}(e);case"CREATE_POST_SUCCESS":return function(e,t){var n=w(t.newPost,{id:t.id});return w(e,{posts:e.posts.concat(n),loading:!1})}(e,t);case"CREATE_POST_FAIL":return function(e,t){return w(e,{error:t.error,loading:!1})}(e,t);case"FETCH_POSTS_START":return function(e,t){return w(e,{loading:!0})}(e);case"FETCH_POSTS_SUCCESS":return function(e,t){return w(e,{posts:t.posts,loading:!1})}(e,t);case"FETCH_POSTS_FAILED":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);case"DELETE_POST_START":return function(e,t){return w(e,{loading:!0})}(e);case"DELETE_POST_SUCCESS":return function(e,t){return w(e,{loading:!1,singlePost:Object(De.a)(e.singlePost).filter(function(e){return e.id!==t.id}),posts:Object(De.a)(e.posts).filter(function(e){return e.id!==t.id})})}(e,t);case"DELETE_POST_FAIL":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);case"FETCH_SINGLE_POST_START":return function(e,t){return w(e,{loading:!0})}(e);case"FETCH_SINGLE_POST_SUCCESS":return function(e,t){return w(e,{loading:!1,singlePost:t.singlePost})}(e,t);case"FETCH_SINGLE_POST_FAIL":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);case"EDIT_POST_START":return function(e,t){return w(e,{loading:!0})}(e);case"EDIT_POST_SUCCESS":return function(e,t){var n=Object(De.a)(e.singlePost);return n[0]=t.editedPost,w(e,{singlePost:n,loading:!1})}(e,t);case"EDIT_POST_FAIL":return function(e,t){return w(e,{loading:!1,error:t.error})}(e,t);default:return e}},Ue=(n(99),_e.d),Le=Object(_e.c)({auth:Ae,comment:we,post:He}),Me=Object(_e.e)(Le,Ue(Object(_e.a)(ke.a))),Fe=r.a.createElement(b.a,{store:Me},r.a.createElement(E.a,null,r.a.createElement(je,null)));i.a.render(Fe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},42:function(e,t,n){e.exports=n.p+"static/media/react-logo.80687d23.png"},47:function(e,t,n){e.exports=n(100)},52:function(e,t,n){},53:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[47,1,2]]]);
//# sourceMappingURL=main.1f577f02.chunk.js.map