{"version":3,"sources":["hoc/Auxiliary/Auxiliary.js","components/Logo/Logo.js","components/Navigation/NavigationItems/NavigationItem/NavigationItem.js","components/Navigation/NavigationItems/NavigationItems.js","components/Navigation/SideDrawer/DrawerToggle/DrawerToggle.js","components/Navigation/Toolbar/Toolbar.js","components/UI/Backdrop/Backdrop.js","components/Navigation/SideDrawer/SideDrawer.js","hoc/Layout/Layout.js","components/UI/Button/Button.js","components/UI/Input/Input.js","components/UI/Button/BigButton.js","shared/utility.js","axios-posts.js","store/actions/auth.js","store/actions/actionTypes.js","store/actions/post.js","store/actions/comment.js","components/UI/Spinner/Spinner.js","containers/Auth/SignUp/SignUp.js","containers/Auth/SignIn/SignIn.js","containers/Auth/Auth.js","containers/Auth/Logout/Logout.js","components/Post/Post.js","components/UI/Modal/Modal.js","hoc/withErrorHandler/withErrorHandler.js","containers/Blog/Posts/Posts.js","containers/Blog/Blog.js","containers/Blog/NewPost/NewPost.js","containers/Blog/Comments/EditComment/EditComment.js","containers/Blog/Comments/Replies/Replies.js","containers/Blog/Comments/Comment/Comment.js","containers/Blog/Comments/Comments.js","containers/Blog/SinglePost/EditPost/EditPost.js","containers/Blog/SinglePost/SinglePost.js","App.js","serviceWorker.js","store/reducers/auth.js","store/reducers/comment.js","store/reducers/post.js","index.js","assets/images/react-logo.png"],"names":["aux","props","children","logo","react_default","a","createElement","className","src","blogLogo","alt","navigationItem","react_router_dom","to","link","activeClassName","exact","navigationItems","NavigationItem_NavigationItem","isAuthenticated","drawerToggle","onClick","clicked","toolbar","DrawerToggle_DrawerToggle","drawerToggleClicked","Logo_Logo","NavigationItems_NavigationItems","isAuth","backdrop","show","sideDrawer","attachedClasses","open","Auxiliary","Backdrop_Backdrop","closed","join","Layout","state","showSideDrawer","sideDrawerToggleHandler","_this","setState","prevState","sideDrawerClosedHandler","Toolbar_Toolbar","this","token","SideDrawer_SideDrawer","Component","connect","auth","button","type","btnType","disabled","input","inputElement","inputClasses","invalid","touched","push","elementType","Object","assign","value","elementConfig","onChange","changed","label","bigButton","btnClasses","style","checkValidity","rules","isValid","required","trim","minLength","length","maxLength","isEmail","test","isNumeric","updateObject","oldObject","updatedProperties","objectSpread","replies","comments","map","roots","forEach","comment","index","id","commentId","instance","axios","create","baseURL","key","process","authSuccess","userId","displayName","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","makeAuthRequest","url","authData","post","then","response","expirationDate","Date","getTime","data","expiresIn","setItem","idToken","localId","catch","error","authFail","email","password","isSignUp","returnSecureToken","get","keys","findIndex","user","Error","checkUserExists","createUserFail","console","log","createUser","checkUserExistsFail","setAuthRedirectPath","path","deletePostStart","commenting","fetchComments","postId","date","toLocaleDateString","month","day","year","sort","fetchCommentsSuccess","fetchCommentsFail","createComment","newComment","modifiedComment","name","createCommentFail","deleteComment","delete","deleteCommentSuccess","deleteCommentFail","editComment","editedComment","patch","editCommentSuccess","editCommentFail","spinner","SignUp","controls","placeholder","validation","valid","formIsValid","inputchangeHandler","event","controlName","updatedControls","defineProperty","target","formSubmitHandler","preventDefault","onAuth","_this2","elementsArray","config","form","formElement","Input_Input","loading","Spinner_Spinner","errorMessage","message","onSubmit","Button_BigButton","left","marginTop","actions","SignIn","authRedirectPath","Auth","switchAuthModeHandler","onSetAuthRedirectPath","redirect","react_router","Auth_SignUp_SignUp","Auth_SignIn_SignIn","Button_Button","Logout","onLogout","commentIcon","index_es","icon","faComments","title","dateTime","totalComments","content","Modal","nextProps","nextState","modalClosed","transform","opacity","withErrorHandler","WrappedComponent","_Component","_temp","_getPrototypeOf2","classCallCheck","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","errorConfirmedHandler","inherits","createClass","reqInterceptor","interceptors","request","use","req","resInterceptor","res","eject","UI_Modal_Modal","Posts","people","singlePostHandler","history","onShowAllCommentsHandler","onCommenting","onFetchPosts","posts","Post_Post","withRouter","fetchPostsSuccess","fetchPostsFail","Blog","Blog_Posts_Posts","NewPost","formControls","rows","submitHandler","newPost","onCreatePost","updatedState","updatedInput","inputChangeHandler","elementId","formElementsArray","createPostSuccess","createPostFail","EditComment","autoFocus","onChangeHandler","onSubmitHandler","formData","isEditReply","selectedReply","isReply","onCreateReply","onEditReply","replyId","onEditComment","cancelEdit","onFetchComments","Replies","isEditing","reply","onReplyHandler","onEditHandler","onCancelEdit","onDeleteReply","Comments_EditComment_EditComment","Comment","editing","selectedComment","onReply","onEdit","onDeleteComment","Comments_Replies_Replies","Comments","onCreateComment","redirectHandler","onEditingHandler","onCancelEditingHandler","Comments_Comment_Comment","EditPost","titleValue","contentValue","editedPost","onEditPost","cancel","editPostSuccess","editPostFail","SinglePost","onDeleteHandler","onDeletePost","replace","onCancelEditHandler","match","params","onFetchSinglePost","singlePost","SinglePost_EditPost_EditPost","Blog_Comments_Comments","deletePostSuccess","deletePostFail","fetchSinglePostSuccess","fetchSinglePostFail","App","onTryAutoSignUp","routes","component","hoc_Layout_Layout","getItem","Boolean","window","location","hostname","initialState","reducer","undefined","action","authStart","authLogout","createUserStart","createUserSuccess","checkUserExistsStart","checkUserExistsSuccess","fetchCommentsStart","createCommentStart","createCommentSuccess","deleteCommentStart","filter","editCommentStart","updatedComments","slice","createPostStart","fetchPostsStart","fetchPostsFailed","toConsumableArray","fetchSinglePostStart","editPostStart","updatedPost","composeEnhancers","compose","rootReducer","combineReducers","authReducer","commentReducer","postReducer","store","createStore","applyMiddleware","thunk","app","es","basename","src_App","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.ab7aaaa4.chunk.js","sourcesContent":["const aux = (props) => props.children;\r\n\r\nexport default aux;","import React from \"react\";\r\nimport blogLogo from \"../../assets/images/react-logo.png\";\r\nimport './Logo.css';\r\n\r\nconst logo = (props) => (\r\n  <div className={'Logo'}>\r\n    <img src={blogLogo} alt=\"logo\" />\r\n  </div>\r\n);\r\n\r\nexport default logo;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport \"./NavigationItem.css\";\r\n\r\nconst navigationItem = props => (\r\n  <li className={\"NavigationItem\"}>\r\n    <NavLink to={props.link} activeClassName={\"active\"} exact={props.exact}>\r\n      {props.children}\r\n    </NavLink>\r\n  </li>\r\n);\r\n\r\nexport default navigationItem;\r\n","import React from \"react\";\r\n\r\nimport NavigationItem from \"./NavigationItem/NavigationItem\";\r\nimport \"./NavigationItems.css\";\r\n\r\nconst navigationItems = props => (\r\n  <ul className={\"NavigationItems\"}>\r\n    <NavigationItem link=\"/\" exact>\r\n      All Posts\r\n    </NavigationItem>\r\n    {props.isAuthenticated ? <NavigationItem link=\"/new-post\">New Post</NavigationItem> : null}\r\n    {!props.isAuthenticated ? (\r\n      <NavigationItem link=\"/auth\">Authenticate</NavigationItem>\r\n    ) : (\r\n      <NavigationItem link=\"/logout\">Logout</NavigationItem>\r\n    )}\r\n  </ul>\r\n);\r\n\r\nexport default navigationItems;\r\n","import React from 'react';\r\n\r\nimport './DrawerToggle.css';\r\n\r\nconst drawerToggle = (props) => (\r\n    <div onClick={props.clicked} className={'DrawerToggle'}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>\r\n);\r\n\r\nexport default drawerToggle;","import React from \"react\";\r\n\r\nimport Logo from '../../Logo/Logo';\r\nimport NavigationItems from \"../NavigationItems/NavigationItems\";\r\nimport DrawerToggle from \"../SideDrawer/DrawerToggle/DrawerToggle\";\r\nimport \"./Toolbar.css\";\r\n\r\nconst toolbar = props => (\r\n  <header className={\"Toolbar\"}>\r\n    <DrawerToggle clicked={props.drawerToggleClicked} />\r\n    <div className={\"Toolbar--logo\"}>\r\n      <Logo />\r\n    </div>\r\n    <nav className={'DesktopOnly'}>\r\n      <NavigationItems isAuthenticated={props.isAuth} />\r\n    </nav>\r\n  </header>\r\n);\r\n\r\nexport default toolbar;\r\n","import React from 'react';\r\n\r\nimport './Backdrop.css';\r\n\r\nconst backdrop = (props) => (\r\n    props.show ? <div className={'Backdrop'} onClick={props.clicked}></div> : null\r\n);\r\n\r\nexport default backdrop;","import React from \"react\";\r\n\r\nimport Logo from \"../../Logo/Logo\";\r\nimport NavigationItems from \"../NavigationItems/NavigationItems\";\r\nimport Backdrop from \"../../UI/Backdrop/Backdrop\";\r\nimport Aux from \"../../../hoc/Auxiliary/Auxiliary\";\r\n\r\nimport \"./SideDrawer.css\";\r\n\r\nconst sideDrawer = props => {\r\n  let attachedClasses = [\"SideDrawer\", \"Close\"];\r\n  if (props.open) {\r\n    attachedClasses = [\"SideDrawer\", \"Open\"];\r\n  }\r\n\r\n  return (\r\n    <Aux>\r\n      <Backdrop show={props.open} clicked={props.closed} />\r\n      <div className={attachedClasses.join(\" \")} onClick={props.closed}>\r\n        <div className={\"SideDrawer--Logo\"}>\r\n          <Logo />\r\n        </div>\r\n        <nav>\r\n          <NavigationItems isAuthenticated={props.isAuth} />\r\n        </nav>\r\n      </div>\r\n    </Aux>\r\n  );\r\n};\r\n\r\nexport default sideDrawer;\r\n","import React, { Component } from \"react\";\r\nimport Aux from \"../Auxiliary/Auxiliary\";\r\nimport Toolbar from \"../../components/Navigation/Toolbar/Toolbar\";\r\nimport SideDrawer from \"../../components/Navigation/SideDrawer/SideDrawer\";\r\nimport  {connect} from 'react-redux';\r\n\r\nimport \"./Layout.css\";\r\n\r\nclass Layout extends Component {\r\n  state = {\r\n    showSideDrawer: false\r\n  };\r\n\r\n\r\n  sideDrawerToggleHandler = () => {\r\n    this.setState(prevState => {\r\n      return {\r\n        showSideDrawer: !prevState.showSideDrawer\r\n      };\r\n    });\r\n  };\r\n\r\n  sideDrawerClosedHandler = () => {\r\n    this.setState({showSideDrawer: false});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Aux>\r\n        <Toolbar\r\n          drawerToggleClicked={this.sideDrawerToggleHandler}\r\n          isAuth={this.props.token !== null}\r\n        />\r\n        <SideDrawer\r\n          isAuth={this.props.token !== null}\r\n          open={this.state.showSideDrawer}\r\n          closed={this.sideDrawerClosedHandler}\r\n        />\r\n        <main className={\"Main--content\"}>{this.props.children}</main>\r\n      </Aux>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    token: state.auth.token\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Layout);\r\n","import React from \"react\";\r\n\r\nimport './Button.css';\r\n\r\nconst button = props => (\r\n  <button\r\n    type={props.type}\r\n    onClick={props.clicked}\r\n    className={props.btnType}\r\n    disabled={props.disabled}\r\n  >\r\n    {props.children}\r\n  </button>\r\n);\r\n\r\nexport default button;\r\n","import React from \"react\";\r\n\r\nimport \"./Input.css\";\r\n\r\nconst input = props => {\r\n  let inputElement = null;\r\n  const inputClasses = [\"InputElement\"];\r\n\r\n  if(props.invalid && props.touched) {\r\n    inputClasses.push('Invalid');\r\n  }\r\n\r\n  switch (props.elementType) {\r\n    case \"input\":\r\n      inputElement = (\r\n        <input\r\n          className={inputClasses.join(\" \")}\r\n          value={props.value}\r\n          {...props.elementConfig}\r\n          onChange={props.changed}\r\n        />\r\n      );\r\n      break;\r\n    case \"textarea\":\r\n      inputElement = (\r\n        <textarea\r\n          className={inputClasses.join(\" \")}\r\n          value={props.value}\r\n          {...props.elementConfig}\r\n          onChange={props.changed}\r\n        />\r\n      );\r\n      break;\r\n    default:\r\n      inputElement = (\r\n        <input\r\n          className={inputClasses.join(\" \")}\r\n          {...props.elementConfig}\r\n          value={props.value}\r\n          onChange={props.changed}\r\n        />\r\n      );\r\n  }\r\n  return (\r\n    <div className={\"Input\"}>\r\n      <label className={\"Label\"}>{props.label}</label>\r\n      {inputElement}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default input;\r\n","import React from \"react\";\r\n\r\nimport \"./BigButton.css\";\r\n\r\nconst bigButton = props => {\r\n  const btnClasses = [\"BigButton\"];\r\n  if (props.btnType) {\r\n    btnClasses.push(props.btnType);\r\n  }\r\n  return (\r\n    <button\r\n      disabled={props.disabled}\r\n      style={props.style}\r\n      className={btnClasses.join(\" \")}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default bigButton;\r\n","export const checkValidity = (value, rules) => {\r\n  let isValid = true;\r\n  if (!rules) {\r\n    return true;\r\n  }\r\n  if (rules.required) {\r\n    isValid =  value.trim() !== \"\" && isValid;\r\n  }\r\n\r\n  if (rules.minLength) {\r\n    isValid = value.length >= rules.minLength && isValid;\r\n  }\r\n\r\n  if (rules.maxLength) {\r\n    isValid = value.length <= rules.maxLength && isValid;\r\n  }\r\n\r\n  if (rules.isEmail) {\r\n    const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n        isValid = pattern.test(value) && isValid;\r\n  }\r\n\r\n  if (rules.isNumeric) {\r\n    const pattern = /^\\d+$/;\r\n    isValid = pattern.test(value) && isValid;\r\n  }\r\n\r\n  return isValid;\r\n};\r\n\r\nexport const updateObject = (oldObject, updatedProperties) => {\r\n  return{\r\n    ...oldObject,\r\n    ...updatedProperties\r\n  };\r\n};\r\n\r\n// export const replies = (comments) => {\r\n//   const commentMap = {};\r\n//   comments.forEach(comment => commentMap[comment.id] = comment);\r\n//   comments.forEach(reply => {\r\n//     if(reply.commentId){\r\n//       const comment = commentMap[reply.commentId];\r\n//       //comment.replies = (comment.replies || []).push(reply);\r\n//      (comment.replies = comment.replies || []).push(reply); \r\n//     }\r\n//   });\r\n//   console.log(comments);\r\n//   return comments.filter(comment => {\r\n//     return !comment.commentId;\r\n//   });\r\n// };\r\n\r\nexport const replies = comments => {\r\n  const map = {};\r\n  const roots = [];\r\n\r\n  comments.forEach((comment, index) => {\r\n      map[comment.id] = index;\r\n      comment.replies = [];\r\n  });\r\n\r\n  comments.forEach(comment => {\r\n    if(comment.commentId) {\r\n      comments[map[comment.commentId]].replies.push(comment);\r\n    } else {\r\n      roots.push(comment);\r\n    }\r\n  });\r\n  return roots;\r\n  \r\n  // var i;\r\n  // const map = {};\r\n  // let node;\r\n  // const roots = [];\r\n  \r\n  // for( i=0; i < comments.length; i++){\r\n  //   map[comments[i].id] = i;\r\n  //   comments[i].replies = [];\r\n  // }\r\n\r\n  // for( i = 0; i < comments.length; i++) {\r\n  //   node = comments[i];\r\n  //   if(node.commentId) {\r\n  //     comments[map[node.commentId]].replies.push(node);\r\n  //   } else {\r\n  //     roots.push(node);\r\n  //   }\r\n  // }\r\n  // return roots;\r\n};","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://mini-blog-c3c8a.firebaseio.com/'\r\n});\r\n\r\nexport default instance;","import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"../../axios-posts\";\r\n\r\nconst key = process.env.REACT_APP_API_KEY;\r\n\r\nexport const authStart = () => {\r\n  return {\r\n    type: actionTypes.AUTH_START\r\n  };\r\n};\r\n\r\nexport const authSuccess = (token, userId, displayName) => {\r\n  return {\r\n    type: actionTypes.AUTH_SUCCESS,\r\n    token: token,\r\n    userId: userId,\r\n    displayName: displayName\r\n  };\r\n};\r\n\r\nexport const authFail = error => {\r\n  return {\r\n    type: actionTypes.AUTH_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const createUserStart = () => {\r\n  return {\r\n    type: actionTypes.CREATE_USER_START\r\n  };\r\n};\r\n\r\nexport const createUserSuccess = () => {\r\n  return {\r\n    type: actionTypes.CREATE_USER_SUCCESS\r\n  };\r\n};\r\n\r\nexport const createUserFail = error => {\r\n  return {\r\n    type: actionTypes.CREATE_USER_START,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem(\"displayName\");\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"userId\");\r\n  localStorage.removeItem(\"expirationDate\");\r\n\r\n  return {\r\n    type: actionTypes.AUTH_LOGOUT\r\n  };\r\n};\r\n\r\nconst checkAuthTimeout = expirationTime => {\r\n  return dispatch => {\r\n    setTimeout(() => {\r\n      dispatch(logout());\r\n    }, expirationTime * 1000);\r\n  };\r\n};\r\n\r\nexport const checkUserExistsStart = () => {\r\n  return {\r\n    type: actionTypes.CHECK_USER_EXISTS_START\r\n  };\r\n};\r\n\r\nexport const checkUserExistsSuccess = () => {\r\n  return {\r\n    type: actionTypes.CHECK_USER_EXISTS_SUCCESS\r\n  };\r\n};\r\n\r\nexport const checkUserExistsFail = (error) => {\r\n  return {\r\n    type: actionTypes.CHECK_USER_EXISTS_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const checkUserExists = displayName => {\r\n  return dispatch => {\r\n    dispatch(checkUserExistsStart());\r\n      return axios.get(\"https://mini-blog-c3c8a.firebaseio.com/users.json\").then(\r\n      response => {\r\n        if(response.data){\r\n          const users = Object.keys(response.data).map(key => {\r\n            return {\r\n              id: key,\r\n              ...response.data[key]\r\n            };\r\n          });\r\n          const index = users.findIndex(user => user.displayName === displayName);\r\n          if (index > -1) {\r\n            throw new Error(\"username already exists\");\r\n          }\r\n          dispatch(checkUserExistsSuccess());\r\n        }\r\n      },\r\n      error => {\r\n        throw error;\r\n      }\r\n    );\r\n  };\r\n};\r\n\r\nexport const createUser = displayName => {\r\n  return dispatch => {\r\n    dispatch(createUserStart());\r\n    axios\r\n      .post(\"https://mini-blog-c3c8a.firebaseio.com/users.json\", {\r\n        displayName: displayName\r\n      })\r\n      .then(response => {\r\n        dispatch(createUserSuccess());\r\n      })\r\n      .catch(error => {\r\n        dispatch(createUserFail(error));\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport const makeAuthRequest = (url, authData, dispatch) => {\r\n  axios\r\n    .post(url, authData)\r\n    .then(response => {\r\n      const expirationDate = new Date(\r\n        new Date().getTime() + response.data.expiresIn * 1000\r\n      );\r\n      localStorage.setItem(\"token\", response.data.idToken);\r\n      localStorage.setItem(\"expirationDate\", expirationDate);\r\n      localStorage.setItem(\"userId\", response.data.localId);\r\n      localStorage.setItem(\"displayName\", response.data.displayName);\r\n      dispatch(\r\n        authSuccess(\r\n          response.data.idToken,\r\n          response.data.localId,\r\n          response.data.displayName\r\n        )\r\n      );\r\n      dispatch(checkAuthTimeout(response.data.expiresIn));\r\n    })\r\n    .catch(error => {\r\n      dispatch(authFail(error.response.data.error));\r\n    });\r\n};\r\n\r\nexport const auth = (email, password, displayName, isSignUp) => {\r\n  return dispatch => {\r\n    dispatch(authStart());\r\n    const authData = {\r\n      email: email,\r\n      password: password,\r\n      displayName: displayName,\r\n      returnSecureToken: true\r\n    };\r\n    let url =\r\n      \"https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=\" + key;\r\n    if (!isSignUp) {\r\n      url =\r\n        \"https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=\" + key;\r\n    }\r\n\r\n    if (isSignUp) {\r\n      return dispatch(checkUserExists(displayName))\r\n        .then(() => {\r\n          makeAuthRequest(url, authData, dispatch);\r\n          dispatch(createUser(displayName));\r\n        })\r\n        .catch(error => {\r\n          dispatch(checkUserExistsFail(error));\r\n        });\r\n    }\r\n    makeAuthRequest(url, authData, dispatch);\r\n  };\r\n};\r\n\r\nexport const setAuthRedirectPath = path => {\r\n  return {\r\n    type: actionTypes.SET_AUTH_REDIRECT_PATH,\r\n    path: path\r\n  };\r\n};\r\n\r\nexport const authCheckState = () => {\r\n  return dispatch => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      dispatch(logout());\r\n    } else {\r\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\r\n      if (new Date() < expirationDate) {\r\n        const userId = localStorage.getItem(\"userId\");\r\n        const displayName = localStorage.getItem(\"displayName\");\r\n        dispatch(authSuccess(token, userId, displayName));\r\n        dispatch(\r\n          checkAuthTimeout(\r\n            (expirationDate.getTime() - new Date().getTime()) / 1000\r\n          )\r\n        );\r\n      } else {\r\n        dispatch(logout());\r\n      }\r\n    }\r\n  };\r\n};\r\n","export const CREATE_POST_START = 'CREATE_POST_START';\r\nexport const CREATE_POST_SUCCESS = 'CREATE_POST_SUCCESS';\r\nexport const CREATE_POST_FAIL = 'CREATE_POST_FAIL';\r\n\r\n\r\nexport const FETCH_POSTS_START = 'FETCH_POSTS_START';\r\nexport const FETCH_POSTS_SUCCESS = 'FETCH_POSTS_SUCCESS';\r\nexport const FETCH_POSTS_FAILED = 'FETCH_POSTS_FAILED';\r\n\r\nexport const FETCH_SINGLE_POST_START = 'FETCH_SINGLE_POST_START';\r\nexport const FETCH_SINGLE_POST_SUCCESS = 'FETCH_SINGLE_POST_SUCCESS';\r\nexport const FETCH_SINGLE_POST_FAIL = 'FETCH_SINGLE_POST_FAIL';\r\n\r\nexport const DELETE_POST_START = 'DELETE_POST_START';\r\nexport const DELETE_POST_SUCCESS = 'DELETE_POST_SUCCESS';\r\nexport const DELETE_POST_FAIL = 'DELETE_POST_FAIL';\r\n\r\nexport const EDIT_POST_START = 'EDIT_POST_START';\r\nexport const EDIT_POST_SUCCESS = 'EDIT_POST_SUCCESS';\r\nexport const EDIT_POST_FAIL = 'EDIT_POST_FAIL';\r\n\r\nexport const COMMENTING = 'COMMENTING';\r\n\r\nexport const EDIT_COMMENT_START = 'EDIT_COMMENT_START';\r\nexport const EDIT_COMMENT_SUCCESS = 'EDIT_COMMENT_SUCCESS';\r\nexport const EDIT_COMMENT_FAIL = 'EDIT_COMMENT_FAIL';\r\n\r\nexport const FETCH_COMMENTS_START = 'FETCH_COMMENTS_START';\r\nexport const FETCH_COMMENTS_SUCCESS = 'FETCH_COMMENTS_SUCCESS';\r\nexport const FETCH_COMMENTS_FAILED = 'FETCH_COMMENTS_FAILED';\r\n\r\nexport const CREATE_COMMENT_START = 'CREATE_COMMENT_START';\r\nexport const CREATE_COMMENT_SUCCESS = 'CREATE_COMMENT_SUCCESS';\r\nexport const CREATE_COMMENT_FAIL = 'CREATE_COMMENT_FAIL';\r\n\r\nexport const DELETE_COMMENT_START = 'DELETE_COMMENT_START';\r\nexport const DELETE_COMMENT_SUCCESS = 'DELETE_COMMENT_SUCCESS';\r\nexport const DELETE_COMMENT_FAIL = 'DELETE_COMMENT_FAIL';\r\n\r\n\r\n\r\nexport const AUTH_START = 'AUTH_START';\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\r\nexport const AUTH_FAIL = 'AUTH_FAIL';\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\r\n\r\nexport const CREATE_USER_START = 'CREATE_USER_START';\r\nexport const CREATE_USER_SUCCESS = 'CREATE_USER_SUCCESS';\r\nexport const CREATE_USER_FAIL= 'CREATE_USER_FAIL';\r\n\r\nexport const CHECK_USER_EXISTS_START = 'CREATE_USER_EXISTS_START';\r\nexport const CHECK_USER_EXISTS_SUCCESS = 'CREATE_USER_EXISTS_SUCCESS';\r\nexport const CHECK_USER_EXISTS_FAIL = 'CREATE_USER_EXISTS_FAIL';\r\n\r\nexport const SET_AUTH_REDIRECT_PATH = 'SET_AUTH_REDIRECT_PATH';","import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"../../axios-posts\";\r\n\r\nexport const createPostStart = () => {\r\n  return {\r\n    type: actionTypes.CREATE_POST_START\r\n  };\r\n};\r\n\r\nexport const createPostSuccess = (newPost, id) => {\r\n  return {\r\n    type: actionTypes.CREATE_POST_SUCCESS,\r\n    newPost: newPost,\r\n    id: id\r\n  };\r\n};\r\n\r\nexport const createPostFail = error => {\r\n  return {\r\n    type: actionTypes.CREATE_POST_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const createPost = (newPost, token) => {\r\n  return dispatch => {\r\n    axios\r\n      .post(\"/posts.json?auth=\" + token, newPost)\r\n      .then(response => {\r\n        newPost = {\r\n          ...newPost,\r\n          date: new Date(newPost.date).toLocaleDateString('en-US', {month: 'short', day: '2-digit', year: 'numeric'})\r\n        }\r\n        dispatch(createPostSuccess(newPost, response.data.name));\r\n      })\r\n      .catch(error => {\r\n        dispatch(createPostFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchPostsStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_POSTS_START\r\n  };\r\n};\r\n\r\nexport const fetchPostsSuccess = posts => {\r\n  return {\r\n    type: actionTypes.FETCH_POSTS_SUCCESS,\r\n    posts: posts\r\n  };\r\n};\r\n\r\nexport const fetchPostsFail = error => {\r\n  return {\r\n    type: actionTypes.FETCH_POSTS_FAILED,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const fetchPosts = () => {\r\n  return dispatch => {\r\n    dispatch(fetchPostsStart());\r\n    axios\r\n      .get(\"/posts.json\")\r\n      .then(response => {\r\n        if (response.data) {\r\n          const posts = Object.keys(response.data)\r\n            .map(key => {\r\n              return {\r\n                id: key,\r\n                ...response.data[key],\r\n                date: new Date(response.data[key].date).toLocaleDateString('en-US', {month: 'short', day: '2-digit', year: 'numeric'})\r\n              };\r\n            })\r\n            .sort();\r\n          dispatch(fetchPostsSuccess(posts));\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        dispatch(fetchPostsFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const deletePostStart = () => {\r\n  return {\r\n    type: actionTypes.DELETE_POST_START\r\n  };\r\n};\r\n\r\nexport const deletePostSuccess = id => {\r\n  return {\r\n    type: actionTypes.DELETE_POST_SUCCESS,\r\n    id: id\r\n  };\r\n};\r\n\r\nexport const deletePostFail = error => {\r\n  return {\r\n    type: actionTypes.DELETE_POST_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const deletePost = (id, token) => {\r\n  return dispatch => {\r\n    dispatch(deletePostStart);\r\n    axios\r\n      .delete(\"/posts/\" + id + \".json?auth=\" + token)\r\n      .then(response => {\r\n        dispatch(deletePostSuccess(id));\r\n      })\r\n      .catch(error => {\r\n        dispatch(deletePostFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchSinglePostStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_SINGLE_POST_START\r\n  };\r\n};\r\n\r\nexport const fetchSinglePostSuccess = singlePost => {\r\n  return {\r\n    type: actionTypes.FETCH_SINGLE_POST_SUCCESS,\r\n    singlePost: singlePost\r\n  };\r\n};\r\n\r\nexport const fetchSinglePostFail = error => {\r\n  return {\r\n    type: actionTypes.FETCH_SINGLE_POST_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const fetchSinglePost = id => {\r\n  return dispatch => {\r\n    dispatch(fetchSinglePostStart());\r\n    axios\r\n      .get('/posts.json?orderBy=\"$key\"&equalTo=\"' + id + '\"')\r\n      .then(response => {\r\n        const singlePost = Object.keys(response.data).map(key => {\r\n          return {\r\n            id: key,\r\n            ...response.data[key],\r\n            date: new Date(response.data[key].date).toLocaleDateString('en-US', {month: 'short', day: '2-digit', year: 'numeric'})\r\n          };\r\n        });\r\n        dispatch(fetchSinglePostSuccess(singlePost));\r\n      })\r\n      .catch(error => {\r\n        dispatch(fetchSinglePostFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n\r\nexport const editPostStart = () => {\r\n  return{\r\n    type: actionTypes.EDIT_POST_START\r\n  };\r\n};\r\n\r\nexport const editPostSuccess = (editedPost) => {\r\n  return{\r\n    type: actionTypes.EDIT_POST_SUCCESS,\r\n    editedPost: editedPost\r\n  };\r\n};\r\n\r\nexport const editPostFail = (error) => {\r\n  return{\r\n    type: actionTypes.EDIT_POST_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const editPost = (postId, token, editedPost) => {\r\n  return dispatch => {\r\n    dispatch(editPostStart());\r\n    axios.patch('/posts/' + postId + '.json?auth=' + token, editedPost)\r\n    .then(response => {\r\n      editedPost = {\r\n        id: postId,\r\n        ...editedPost,\r\n        date: new Date(editedPost.date).toLocaleDateString('en-US', {month: 'short', day: '2-digit', year: 'numeric'})\r\n      };\r\n      dispatch(editPostSuccess(editedPost));\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      dispatch(editPostFail(error));\r\n    });\r\n  };\r\n};","import * as actionTypes from \"../actions/actionTypes\";\r\nimport axios from \"../../axios-posts\";\r\n\r\nexport const commenting = commenting => {\r\n  return {\r\n    type: actionTypes.COMMENTING,\r\n    commenting: commenting\r\n  };\r\n};\r\n\r\nexport const fetchCommentsStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_COMMENTS_START\r\n  };\r\n};\r\n\r\nexport const fetchCommentsSuccess = comments => {\r\n  return {\r\n    type: actionTypes.FETCH_COMMENTS_SUCCESS,\r\n    comments: comments\r\n  };\r\n};\r\n\r\nexport const fetchCommentsFail = error => {\r\n  return {\r\n    type: actionTypes.FETCH_COMMENTS_FAILED,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const fetchComments = postId => {\r\n  return dispatch => {\r\n    dispatch(fetchCommentsStart());\r\n    axios\r\n      .get(\"/posts/\" + postId + '/comments.json?&orderBy=\"$key\"')\r\n      .then(response => {\r\n        let comments = null;\r\n        if (response.data !== null) {\r\n          comments = Object.keys(response.data)\r\n            .map(key => {\r\n              return {\r\n                id: key,\r\n                ...response.data[key],\r\n                date: new Date(response.data[key].date).toLocaleDateString('en-US', {month: 'short', day: '2-digit', year: 'numeric'})\r\n              };\r\n            })\r\n            .sort();\r\n        } else {\r\n          comments = [];\r\n        }\r\n        dispatch(fetchCommentsSuccess(comments));\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        dispatch(fetchCommentsFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const createCommentStart = () => {\r\n  return {\r\n    type: actionTypes.CREATE_COMMENT_START\r\n  };\r\n};\r\n\r\nexport const createCommentSuccess = comment => {\r\n  return {\r\n    type: actionTypes.CREATE_COMMENT_SUCCESS,\r\n    comment: comment\r\n  };\r\n};\r\n\r\nexport const createCommentFail = error => {\r\n  return {\r\n    type: actionTypes.CREATE_COMMENT_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const createComment = (postId, token, newComment) => {\r\n  return dispatch => {    \r\n      dispatch(createCommentStart());\r\n    const url = \"/posts/\" + postId + \"/comments.json?auth=\" + token;\r\n   \r\n    axios\r\n      .post(url, newComment)\r\n      .then(response => {\r\n        const modifiedComment = {\r\n          id: response.data.name,\r\n          ...newComment,\r\n          date: new Date(newComment.date).toLocaleDateString('en-US', {month: 'short', day: '2-digit', year: 'numeric'})\r\n        };\r\n          dispatch(createCommentSuccess(modifiedComment));\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n          dispatch(createCommentFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n\r\n\r\nexport const deleteCommentStart = () => {\r\n  return {\r\n    type: actionTypes.DELETE_COMMENT_START\r\n  };\r\n};\r\n\r\nexport const deleteCommentSuccess = id => {\r\n  return {\r\n    type: actionTypes.DELETE_COMMENT_SUCCESS,\r\n    id: id\r\n  };\r\n};\r\n\r\nexport const deleteCommentFail = error => {\r\n  return {\r\n    type: actionTypes.DELETE_COMMENT_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const deleteComment = (postId, id, token) => {\r\n  return dispatch => {\r\n    dispatch(deleteCommentStart());\r\n    axios\r\n      .delete(\"/posts/\" + postId + \"/comments/\" + id + \".json?auth=\" + token)\r\n      .then(response => {\r\n        dispatch(deleteCommentSuccess(id));\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        dispatch(deleteCommentFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const editCommentStart = () => {\r\n  return {\r\n    type: actionTypes.EDIT_COMMENT_START\r\n  };\r\n};\r\n\r\nexport const editCommentSuccess = (editedComment) => {\r\n  return {\r\n    type: actionTypes.EDIT_COMMENT_SUCCESS,\r\n    editedComment: editedComment\r\n  };\r\n};\r\n\r\nexport const editCommentFail = (error) => {\r\n  return {\r\n    type: actionTypes.EDIT_COMMENT_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const editComment = (commentId, postId, token, editedComment) => {\r\n  return dispatch => {\r\n    dispatch(editCommentStart());\r\n    axios.patch('/posts/' + postId + '/comments/' + commentId + '.json?auth=' + token, editedComment)\r\n    .then(response => {\r\n      editedComment = {\r\n        id: commentId,\r\n        ...editedComment\r\n      };\r\n      dispatch(editCommentSuccess(editedComment));\r\n      // other easier alternative dispatch(fetchComments(postId));\r\n    })\r\n    .catch(error => {\r\n      dispatch(editCommentFail(error));\r\n      console.log(error);\r\n    });\r\n  };\r\n};","import React from 'react'; \r\n\r\nimport './Spinner.css';\r\n\r\nexport const spinner = (props) => {\r\n    return <div className=\"Loader\">Loading...</div>;\r\n}; \r\n\r\nexport default spinner;","import React, { Component } from \"react\";\r\n\r\nimport Input from \"../../../components/UI/Input/Input\";\r\nimport BigButton from \"../../../components/UI/Button/BigButton\";\r\nimport { checkValidity } from \"../../../shared/utility\";\r\nimport * as actions from \"../../../store/actions/index\";\r\nimport { connect } from \"react-redux\";\r\nimport Aux from \"../../../hoc/Auxiliary/Auxiliary\";\r\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\r\n\r\nimport \"./SignUp.css\";\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    controls: {\r\n      displayName: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Display Name\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      },\r\n      email: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"email\",\r\n          placeholder: \"Email\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n          isEmail: true\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      },\r\n      password: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"password\",\r\n          placeholder: \"Password\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n          minLength: 6\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      }\r\n    },\r\n    formIsValid: false\r\n  };\r\n\r\n  inputchangeHandler = (event, controlName) => {\r\n    const updatedControls = {\r\n      ...this.state.controls,\r\n      [controlName]: {\r\n        ...this.state.controls[controlName],\r\n        value: event.target.value,\r\n        valid: checkValidity(\r\n          event.target.value,\r\n          this.state.controls[controlName].validation\r\n        ),\r\n        touched: true\r\n      }\r\n    };\r\n\r\n    let formIsValid = true;\r\n    for (let key in updatedControls) {\r\n      formIsValid = updatedControls[key].valid && formIsValid;\r\n    }\r\n    this.setState({ controls: updatedControls, formIsValid: formIsValid });\r\n    //console.log(this.state.controls.email.valid);\r\n  };\r\n\r\n  formSubmitHandler = event => {\r\n    event.preventDefault();\r\n    this.props.onAuth(\r\n      this.state.controls.email.value,\r\n      this.state.controls.password.value,\r\n      this.state.controls.displayName.value,\r\n      this.props.isSignUp\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const elementsArray = [];\r\n    for (let key in this.state.controls) {\r\n      elementsArray.push({\r\n        id: key,\r\n        config: this.state.controls[key]\r\n      });\r\n    }\r\n\r\n    let form = elementsArray.map(formElement => (\r\n      <Input\r\n        key={formElement.id}\r\n        value={formElement.config.value}\r\n        elementConfig={formElement.config.elementConfig}\r\n        touched={formElement.config.touched}\r\n        invalid={!formElement.config.valid}\r\n        changed={event => this.inputchangeHandler(event, formElement.id)}\r\n      />\r\n    ));\r\n\r\n    if (this.props.loading) {\r\n      form = <Spinner />;\r\n    }\r\n    let errorMessage = null;\r\n    if (this.props.error) {\r\n      errorMessage = (\r\n        <p className={\"SignUp--error\"}>{this.props.error.message}</p>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Aux>\r\n        {errorMessage}\r\n        <form onSubmit={event => this.formSubmitHandler(event)}>\r\n          {form}\r\n          <BigButton\r\n            style={{\r\n              left: \"50%\",\r\n              marginTop: \"30px\"\r\n            }}\r\n            btnType=\"BigBtnSuccess\"\r\n          >\r\n            Submit\r\n          </BigButton>\r\n        </form>\r\n      </Aux>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    error: state.auth.error,\r\n    loading: state.auth.loading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAuth: (email, password, displayName, isSignUp) =>\r\n      dispatch(actions.auth(email, password, displayName, isSignUp))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n","import React, { Component } from \"react\";\r\n\r\n//import {Redirect} from 'react-router-dom';\r\nimport Input from \"../../../components/UI/Input/Input\";\r\nimport BigButton from \"../../../components/UI/Button/BigButton\";\r\nimport { checkValidity } from \"../../../shared/utility\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../store/actions/index\";\r\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\r\n\r\nimport \"./SignIn.css\";\r\n\r\nclass SignIn extends Component {\r\n  state = {\r\n    controls: {\r\n      email: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"email\",\r\n          placeholder: \"Email\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n          isEmail: true\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      },\r\n      password: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"password\",\r\n          placeholder: \"Password\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n          minLength: 6\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      }\r\n    },\r\n    formIsValid: false\r\n  };\r\n\r\n  inputchangeHandler = (event, controlName) => {\r\n    const updatedControls = {\r\n      ...this.state.controls,\r\n      [controlName]: {\r\n        ...this.state.controls[controlName],\r\n        value: event.target.value,\r\n        valid: checkValidity(\r\n          event.target.value,\r\n          this.state.controls[controlName].validation\r\n        ),\r\n        touched: true\r\n      }\r\n    };\r\n\r\n    let formIsValid = true;\r\n    for (let key in updatedControls) {\r\n      formIsValid = updatedControls[key].valid && formIsValid;\r\n    }\r\n    this.setState({ controls: updatedControls, formIsValid: formIsValid });\r\n  };\r\n\r\n  formSubmitHandler = event => {\r\n    event.preventDefault();\r\n    this.props.onAuth(\r\n      this.state.controls.email.value,\r\n      this.state.controls.password.value,\r\n      this.props.isSignUp\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const elementsArray = [];\r\n    for (let key in this.state.controls) {\r\n      elementsArray.push({\r\n        id: key,\r\n        config: this.state.controls[key]\r\n      });\r\n    }\r\n\r\n    let form = elementsArray.map(formElement => (\r\n      <Input\r\n        key={formElement.id}\r\n        value={formElement.config.value}\r\n        elementConfig={formElement.config.elementConfig}\r\n        touched={formElement.config.touched}\r\n        invalid={!formElement.config.valid}\r\n        changed={event => this.inputchangeHandler(event, formElement.id)}\r\n      />\r\n    ));\r\n\r\n    if (this.props.loading) {\r\n      form = <Spinner />;\r\n    }\r\n\r\n    let errorMessage = null;\r\n    if (this.props.error) {\r\n      errorMessage = (\r\n        <p className={\"SignIn--error\"}>{this.props.error.message}</p>\r\n      );\r\n    }\r\n    return (\r\n      <form onSubmit={event => this.formSubmitHandler(event)}>\r\n        {errorMessage}\r\n        {form}\r\n        <BigButton\r\n          style={{\r\n            left: \"50%\",\r\n            marginTop: \"30px\"\r\n          }}\r\n          btnType=\"BigBtnSuccess\"\r\n        >\r\n          Submit\r\n        </BigButton>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null,\r\n    authRedirectPath: state.auth.authRedirectPath,\r\n    error: state.auth.error,\r\n    loading: state.auth.loading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAuth: (email, password, displayName, isSignUp) =>\r\n      dispatch(actions.auth(email, password, displayName, isSignUp))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Button from \"../../components/UI/Button/Button\";\r\nimport SignUp from \"./SignUp/SignUp\";\r\nimport SignIn from \"./SignIn/SignIn\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../store/actions/index\";\r\n\r\n\r\nimport \"./Auth.css\";\r\n\r\nclass Auth extends Component {\r\n  state = {\r\n    isSignUp: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (!this.props.commenting && this.props.authRedirectPath !== \"/\") {\r\n      this.props.onSetAuthRedirectPath();\r\n    }\r\n  }\r\n\r\n  switchAuthModeHandler = () => {\r\n    this.setState(prevState => {\r\n      return {\r\n        isSignUp: !prevState.isSignUp\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n\r\n    let redirect = null;\r\n    if (this.props.isAuthenticated) {\r\n      redirect = <Redirect to={this.props.authRedirectPath} />;\r\n    }\r\n\r\n    return (\r\n      <div className={\"Auth\"}>\r\n        {redirect}\r\n        {this.state.isSignUp ? (\r\n          <SignUp isSignUp={this.state.isSignUp} />\r\n        ) : (\r\n          <SignIn isSignUp={this.state.isSignUp} />\r\n        )}\r\n        <Button clicked={this.switchAuthModeHandler} btnType=\"Danger\">\r\n          SWITCH TO {this.state.isSignUp ? \"SIGN IN\" : \"SIGN UP\"}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    error: state.auth.error,\r\n    isAuthenticated: state.auth.token !== null,\r\n    authRedirectPath: state.auth.authRedirectPath,\r\n    commenting: state.comment.commenting\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onSetAuthRedirectPath: () => dispatch(actions.setAuthRedirectPath(\"/\"))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Auth);\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../../../store/actions/index';\r\n\r\nclass Logout extends Component {\r\n  componentDidMount() {\r\n    this.props.onLogout();\r\n  }\r\n\r\n  render() {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onLogout: () => dispatch(actions.logout())\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout);\r\n","import React from \"react\";\r\n\r\nimport Aux from \"../../hoc/Auxiliary/Auxiliary\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faComments } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport \"./Post.css\";\r\n\r\nconst post = props => {\r\n  const commentIcon = <FontAwesomeIcon icon= {faComments} />;\r\n  return (\r\n    <Aux>\r\n      <article className={\"Post\"}>\r\n        <h1 onClick={props.clicked}>{props.title}</h1>\r\n        <div className={\"PostBody\"}>\r\n          <div className=\"Post--header\">\r\n            <div className={\"Post--author\"}>By: {props.displayName}</div>\r\n            <span className={\"Post--date\"}>\r\n              <time dateTime={props.date}>{props.date}</time>\r\n            </span>\r\n            <span className={'Post--counter'}>{commentIcon} {props.totalComments} comments</span>\r\n          </div>\r\n          <div className={\"Post--content\"}>\r\n            <p>{props.content}</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </Aux>\r\n  );\r\n};\r\n\r\nexport default post;\r\n","import React, { Component } from \"react\";\r\n\r\nimport Aux from \"../../../hoc/Auxiliary/Auxiliary\";\r\nimport Backdrop from \"../Backdrop/Backdrop\";\r\nimport './Modal.css';\r\n\r\nclass Modal extends Component {\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return (\r\n      nextProps.show !== this.props.show ||\r\n      nextProps.children !== this.props.children\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Aux>\r\n        <Backdrop show={this.props.show} clicked={this.props.modalClosed} />\r\n        <div\r\n          className={'Modal'}\r\n          style={{\r\n            transform: this.props.show ? \"translateY(0)\" : \"translateY(-100vh)\",\r\n            opacity: this.props.show ? \"1\" : \"0\"\r\n          }}\r\n        >\r\n          {this.props.children}\r\n        </div>\r\n      </Aux>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, {Component} from 'react';\r\n\r\nimport Modal from '../../components/UI/Modal/Modal';\r\nimport Aux from '../Auxiliary/Auxiliary';\r\n\r\nconst withErrorHandler = (WrappedComponent, axios) => {\r\n    return class extends Component {\r\n        state = {\r\n            error: null\r\n        }\r\n\r\n        componentWillMount() {\r\n           \r\n            this.reqInterceptor = axios.interceptors.request.use(req => {\r\n                this.setState({ error: null });\r\n                return req;\r\n            });\r\n            this.resInterceptor = axios.interceptors.response.use(res => res, error => {\r\n                this.setState({ error: error });\r\n            });\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            axios.interceptors.request.eject(this.reqInterceptor);\r\n            axios.interceptors.response.eject(this.resInterceptor);\r\n        }\r\n\r\n        errorConfirmedHandler = () => {\r\n            this.setState({ error: null });\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <Aux>\r\n                    <Modal\r\n                        show={this.state.error}\r\n                        modalClosed={this.errorConfirmedHandler}\r\n                    >\r\n                        {this.state.error ? this.state.error.message : null}\r\n                    </Modal>\r\n                    <WrappedComponent {...this.props} />\r\n                </Aux>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default withErrorHandler;","import React, { Component } from \"react\";\r\n\r\nimport Post from \"../../../components/Post/Post\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../store/actions/index\";\r\nimport withErrorHandler from \"../../../hoc/withErrorHandler/withErrorHandler\";\r\nimport axios from \"../../../axios-posts\";\r\nimport Spinner from '../../../components/UI/Spinner/Spinner';\r\n\r\nimport \"./Posts.css\";\r\n\r\nclass Posts extends Component {\r\n  state = {\r\n    people: \"\"\r\n  };\r\n  componentDidMount() {\r\n    this.props.onCommenting(false);\r\n    this.props.onFetchPosts();\r\n  }\r\n\r\n  singlePostHandler = id => {\r\n    this.props.history.push(\"/posts/\" + id);\r\n  };\r\n\r\n  onShowAllCommentsHandler = post => {\r\n    let comments = 0;\r\n    if (post.comments) {\r\n      return comments = Object.keys(post.comments).length;\r\n    }\r\n    return comments;\r\n  };\r\n\r\n  render() {\r\n    let posts = null;\r\n    if (!this.props.error) {\r\n      posts = this.props.posts.map(post => (\r\n        <Post\r\n          key={post.id}\r\n          title={post.title}\r\n          id={post.id}\r\n          displayName={post.displayName}\r\n          content={post.content}\r\n          date={post.date}\r\n          clicked={() => this.singlePostHandler(post.id)}\r\n          comments={post.comments}\r\n          totalComments={this.onShowAllCommentsHandler(post)}\r\n        />\r\n      ));\r\n    }\r\n    return (\r\n      <div>\r\n        {this.props.loading ? <Spinner /> : <section className={\"Posts\"}>{posts}</section>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    posts: state.post.posts,\r\n    error: state.post.error,\r\n    loading: state.post.loading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFetchPosts: () => dispatch(actions.fetchPosts()),\r\n    onCommenting: commenting => dispatch(actions.commenting(commenting))\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(withErrorHandler(Posts, axios))\r\n);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Aux from \"../../hoc/Auxiliary/Auxiliary\";\r\nimport Posts from \"./Posts/Posts\";\r\nimport \"./Blog.css\";\r\n\r\nclass Blog extends Component {\r\n  render() {\r\n    return (\r\n      <Aux>\r\n        <div className={\"Blog\"}>\r\n          <Posts />\r\n        </div>\r\n      </Aux>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Blog;\r\n","import React, { Component } from \"react\";\r\n\r\nimport Input from \"../../../components/UI/Input/Input\";\r\nimport BigButton from '../../../components/UI/Button/BigButton';\r\nimport { checkValidity } from \"../../../shared/utility\";\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../../../store/actions/index';\r\n\r\nimport \"./NewPost.css\";\r\n\r\nclass NewPost extends Component {\r\n  state = {\r\n    formControls: {\r\n      title: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Title\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      },\r\n      content: {\r\n        elementType: \"textarea\",\r\n        elementConfig: {\r\n          placeholder: \"Write something\",\r\n          rows: 5\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      }\r\n    },\r\n    formIsValid: false\r\n  };\r\n\r\n  submitHandler = event => {\r\n    event.preventDefault();\r\n\r\n    const newPost = {};\r\n    newPost.date = new Date().toLocaleDateString();\r\n    newPost.displayName = this.props.displayName;\r\n    newPost.userId = this.props.userId;\r\n\r\n    for (let key in this.state.formControls) {\r\n      newPost[key] = this.state.formControls[key].value;\r\n    }\r\n\r\n    this.props.onCreatePost(newPost, this.props.token);\r\n    this.props.history.push(\"/\");\r\n    // clear inputs\r\n    const updatedState = { ...this.state.formControls };\r\n    for (let key in this.state.formControls) {\r\n      const updatedInput = { ...this.state.formControls[key] };\r\n      updatedInput.value = \"\";\r\n\r\n      updatedState[key] = updatedInput;\r\n    }\r\n    this.setState({\r\n      formControls: updatedState\r\n    });\r\n  };\r\n\r\n  inputChangeHandler = (event, elementId) => {\r\n    const updatedState = { ...this.state.formControls };\r\n    const updatedInput = { ...this.state.formControls[elementId] };\r\n    updatedInput.value = event.target.value;\r\n    updatedInput.touched = true;\r\n    updatedInput.valid = checkValidity(\r\n      event.target.value,\r\n      this.state.formControls[elementId].validation\r\n    );\r\n    updatedState[elementId] = updatedInput;\r\n\r\n    let formIsValid = true;\r\n    for (let key in updatedState) {\r\n      formIsValid = formIsValid && updatedState[key].valid;\r\n    }\r\n    this.setState({ formControls: updatedState, formIsValid: formIsValid });\r\n  };\r\n\r\n  render() {\r\n    const formElementsArray = [];\r\n    for (let key in this.state.formControls) {\r\n      formElementsArray.push({\r\n        id: key,\r\n        config: this.state.formControls[key]\r\n      });\r\n    }\r\n    let form = (\r\n      <form onSubmit={this.submitHandler}>\r\n        <fieldset disabled={!this.props.token}>\r\n          {formElementsArray.map(formElement => (\r\n            <Input\r\n              key={formElement.id}\r\n              elementType={formElement.config.elementType}\r\n              value={formElement.config.value}\r\n              elementConfig={formElement.config.elementConfig}\r\n              touched={formElement.config.touched}\r\n              invalid={!formElement.config.valid}\r\n              changed={event => this.inputChangeHandler(event, formElement.id)}\r\n            />\r\n          ))}\r\n        </fieldset>\r\n        <BigButton\r\n          disabled={!this.state.formIsValid || !this.props.token}\r\n          btnType={\"Submit\"}\r\n          style={{transform:'none'}}\r\n        >\r\n          Submit\r\n        </BigButton>\r\n      </form>\r\n    );\r\n    return <div className={\"NewPost--form\"}>{form}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n    displayName: state.auth.displayName\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onCreatePost: (newPost, token) => dispatch(actions.createPost(newPost, token))\r\n  };\r\n};  \r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewPost);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Input from \"../../../../components/UI/Input/Input\";\r\nimport Button from \"../../../../components/UI/Button/Button\";\r\nimport { checkValidity } from \"../../../../shared/utility\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../../store/actions/index\";\r\n\r\nimport \"./EditComment.css\";\r\n\r\nclass EditComment extends Component {\r\n  state = {\r\n    formControls: {\r\n      editComment: {\r\n        elementType: \"textarea\",\r\n        elementConfig: {\r\n          autoFocus: true,\r\n          placeholder: \"\",\r\n          rows: 5\r\n        },\r\n        value: this.props.value,\r\n        validation: {\r\n          required: true,\r\n          minLength: 1\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      }\r\n    },\r\n    formIsValid: false\r\n  };\r\n\r\n  onChangeHandler = (event, inputElement) => {\r\n    const updatedState = { ...this.state.formControls };\r\n    const updatedInput = { ...this.state.formControls[inputElement] };\r\n    updatedInput.value = event.target.value;\r\n    updatedInput.valid = checkValidity(\r\n      event.target.value,\r\n      this.state.formControls[inputElement].validation\r\n    );\r\n    updatedInput.touched = true;\r\n    updatedState[inputElement] = updatedInput;\r\n\r\n    let formIsValid = true;\r\n    for (let key in updatedState) {\r\n      formIsValid = formIsValid && updatedState[key].valid;\r\n    }\r\n\r\n    this.setState({ formControls: updatedState, formIsValid: formIsValid });\r\n  };\r\n\r\n  onSubmitHandler = event => {\r\n    event.preventDefault();\r\n    const formData = {\r\n      date: new Date().toLocaleDateString(),\r\n      commentId: this.props.isEditReply ? this.props.commentId : this.props.selectedReply,\r\n      content: this.state.formControls.editComment.value,\r\n      displayName: this.props.displayName,\r\n      userId: this.props.userId\r\n    };\r\n\r\n    if (this.props.isReply) {\r\n      this.props.onCreateReply(\r\n        this.props.postId,\r\n        this.props.token,\r\n        formData,\r\n        this.props.selectedReply,\r\n      );\r\n    } else if(this.props.isEditReply){\r\n        this.props.onEditReply(\r\n          this.props.replyId,\r\n          this.props.postId,\r\n          this.props.token,\r\n          formData\r\n        );\r\n    }\r\n    else {\r\n      const editedComment= {\r\n        ...formData,\r\n        commentId: null\r\n      };\r\n\r\n      this.props.onEditComment(\r\n        this.props.commentId,\r\n        this.props.postId,\r\n        this.props.token,\r\n        editedComment\r\n      );\r\n    }\r\n    this.props.cancelEdit();\r\n  };\r\n\r\n  render() {\r\n    let formElementsArray = [];\r\n    for (let key in this.state.formControls) {\r\n      formElementsArray.push({\r\n        id: key,\r\n        config: this.state.formControls[key]\r\n      });\r\n    }\r\n\r\n    let form = (\r\n      <form onSubmit={this.onSubmitHandler}>\r\n        <fieldset disabled={!this.props.isAuth}>\r\n          {formElementsArray.map(formElement => (\r\n            <Input\r\n              key={formElement.id}\r\n              elementType={formElement.config.elementType}\r\n              value={formElement.config.value}\r\n              elementConfig={formElement.config.elementConfig}\r\n              touched={formElement.config.touched}\r\n              invalid={!formElement.config.valid}\r\n              changed={event => this.onChangeHandler(event, formElement.id)}\r\n            />\r\n          ))}\r\n        </fieldset>\r\n        <div className=\"EditActions\">\r\n          <Button\r\n            disabled={!this.state.formIsValid || !this.props.isAuth}\r\n            btnType=\"Success\"\r\n          >\r\n            {this.props.isReply ? \"Submit\" : \"Save\"}\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            clicked={this.props.cancelEdit}\r\n            disabled={!this.props.isAuth}\r\n            btnType=\"Danger\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    );\r\n\r\n    return <div className={\"EditComment--input\"}>{form}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userId: state.auth.userId,\r\n    token: state.auth.token,\r\n    displayName: state.auth.displayName,\r\n    isAuth: state.auth.token !== null\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onEditComment: (commentId, postId, token, editedComment) =>\r\n      dispatch(actions.editComment(commentId, postId, token, editedComment)),\r\n    onFetchComments: () => dispatch(actions.fetchComments()),\r\n    onCreateReply: (postId, token, newComment, commentId) =>\r\n      dispatch(\r\n        actions.createComment(postId, token, newComment, commentId)\r\n      )\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EditComment);\r\n","import React, { Component } from \"react\";\r\nimport{withRouter} from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../../store/actions/index\";\r\nimport Button from \"../../../../components/UI/Button/Button\";\r\nimport EditComment from \"../EditComment/EditComment\";\r\n\r\nimport \"./Replies.css\";\r\n\r\nclass Replies extends Component {\r\n  state = {\r\n    isEditing: false,\r\n    selectedReply: null,\r\n    reply: false\r\n  };\r\n \r\n  onReplyHandler = replyId => {\r\n    if(this.props.token){\r\n      this.setState({reply: true});\r\n      this.setState({selectedReply: replyId});\r\n    } else {\r\n      this.props.history.push('/auth');\r\n    }\r\n  }\r\n\r\n  onEditHandler = replyId => {\r\n      this.setState({ isEditing: true });\r\n      this.setState({ selectedReply: replyId });\r\n  };\r\n\r\n  onCancelEdit = () => {\r\n    this.setState({ isEditing: false });\r\n    this.setState({reply: false});\r\n  };\r\n\r\n  render() {\r\n    let replies = null;\r\n    if (this.props.comment.replies) {\r\n      replies = Object.keys(this.props.comment.replies)\r\n        .map(key => {\r\n          return {\r\n            ...this.props.comment.replies[key],\r\n            key: key,\r\n            date: new Date(this.props.comment.replies[key].date).toLocaleDateString('en-US', {month: 'short', day: '2-digit', year: 'numeric'})\r\n          };\r\n        })\r\n        .map((reply, index) => {\r\n          return !(this.state.isEditing || this.state.reply) ||\r\n            this.state.selectedReply !== reply.id ? (\r\n            <div className={\"Reply\"} key={reply.id}>\r\n              <div className=\"ReplyBody\">\r\n                <div className=\"Reply--header\">\r\n                  <div className={'Reply--author'}><strong>{reply.displayName}</strong></div>\r\n                  <span className={'Reply--date'}><time dateTime={reply.date}>{reply.date}</time></span>\r\n                </div>\r\n                <div className=\"Reply--content\">\r\n                  <p>{reply.content}</p>\r\n                </div>\r\n                <div className=\"Reply--actions\">\r\n                <Button\r\n                    clicked={() => this.onReplyHandler(reply.id)}\r\n                    btnType=\"Success\"\r\n                  >\r\n                   Reply\r\n                  </Button>\r\n                {this.props.token && this.props.userId===reply.userId ?<Button\r\n                    clicked={() => this.onEditHandler(reply.id)}\r\n                    btnType=\"Success\"\r\n                  >\r\n                    Edit\r\n                  </Button> : null }\r\n                  {this.props.token && this.props.userId===reply.userId ?<Button\r\n                    btnType=\"Danger\"\r\n                    clicked={() =>\r\n                      this.props.onDeleteReply(\r\n                        this.props.postId,\r\n                        reply.id,\r\n                        this.props.token\r\n                      )\r\n                    }\r\n                  >\r\n                    Delete\r\n                  </Button>: null}\r\n                </div>\r\n                {reply.replies && <Replies {...this.props} comment={reply} />}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <EditComment\r\n              key={reply.id}\r\n              value={this.state.reply ? '' : reply.content}\r\n              cancelEdit={this.onCancelEdit}\r\n              onEditReply={this.props.onEditReply}\r\n              replyId={reply.id}\r\n              isEditReply={this.state.isEditing}\r\n              isReply={this.state.reply}\r\n              postId={this.props.postId}\r\n              commentId={reply.commentId}\r\n              selectedReply={this.state.selectedReply}\r\n              onCreateReply={this.props.onCreateReply}\r\n            />\r\n          );\r\n        });\r\n    }\r\n\r\n    return replies;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    token: state.auth.token,\r\n    replies: state.comment.replies,\r\n    userId: state.auth.userId\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onEditReply: (commentId, postId, token, editedComment) =>\r\n      dispatch(actions.editComment(commentId, postId, token, editedComment)),\r\n    onDeleteReply: (postId, id, token) =>\r\n      dispatch(actions.deleteComment(postId, id, token)),\r\n    onCreateReply: (postId, token, newComment) => dispatch(actions.createComment(postId, token, newComment))\r\n  };\r\n};\r\nexport default withRouter(connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Replies));","import React, { Component } from \"react\";\r\nimport EditComment from \"../EditComment/EditComment\";\r\nimport Button from \"../../../../components/UI/Button/Button\";\r\nimport Replies from '../Replies/Replies';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../../../../store/actions/index';\r\n//import {replies} from '../../../../shared/utility';\r\n\r\nclass Comment extends Component {\r\n   render() {\r\n    let comments = null;\r\n    if (this.props.comments) {  \r\n      // console.log(this.props.comments); \r\n\r\n      comments = this.props.comments.map(comment => (\r\n        <div className={\"Comment\"} key={comment.id}>\r\n          {!(this.props.editing || this.props.reply) ||\r\n          comment.id !== this.props.selectedComment ? (\r\n            <div className=\"CommentBody\">\r\n              <div className={\"Comment--header\"}>\r\n                <div className={\"Comment--author\"}><strong>{comment.displayName}</strong></div>\r\n                <span className={\"Comment--date\"}><time dateTime={comment.date}>{comment.date}</time></span>\r\n              </div>\r\n              <div className={\"Comment--content\"}>\r\n                <p>{comment.content}</p>\r\n              </div>\r\n              <div className=\"Comment--actions\">\r\n                <Button\r\n                  btnType={\"Success\"}\r\n                  clicked={() => this.props.onReply(comment.id)}\r\n                >\r\n                  {this.props.token ? 'Reply' : 'Login'}\r\n                </Button>\r\n                {this.props.userId === comment.userId && (\r\n                  <Button\r\n                    btnType={\"Success\"}\r\n                    clicked={() => this.props.onEdit(comment.id)}\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                )}\r\n                {this.props.userId === comment.userId && (\r\n                  <Button\r\n                  btnType={\"Danger\"}\r\n                  clicked={() =>\r\n                    this.props.onDeleteComment(\r\n                      this.props.postId,\r\n                      comment.id,\r\n                      this.props.token\r\n                      )\r\n                    }\r\n                    >\r\n                    Delete\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              <Replies comment={comment} commentId={comment.id} postId={this.props.postId}/>      \r\n            </div>\r\n          ) : (\r\n            <EditComment\r\n            cancelEdit={this.props.cancelEdit}\r\n            commentId={comment.id}\r\n            selectedReply={this.props.selectedComment}\r\n            postId={this.props.postId}\r\n              value={this.props.reply ? \"\" : comment.content}\r\n              isReply={this.props.reply}\r\n              />\r\n              )}\r\n        </div>\r\n      ));\r\n    }\r\n    return comments;\r\n       \r\n  }\r\n}\r\n\r\nconst mapSTateToProps = state => {\r\n  return {\r\n    replies: state.comment.replies\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFetchComments: (postId) => dispatch(actions.fetchComments(postId))\r\n  };\r\n};\r\n\r\nexport default connect(mapSTateToProps, mapDispatchToProps)(Comment);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Input from \"../../../components/UI/Input/Input\";\r\nimport BigButton from '../../../components/UI/Button/BigButton';\r\nimport { checkValidity } from \"../../../shared/utility\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../store/actions/index\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Comment from \"./Comment/Comment\";\r\nimport axios from \"../../../axios-posts\";\r\nimport withErrorHandler from \"../../../hoc/withErrorHandler/withErrorHandler\";\r\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\r\nimport {replies} from '../../../shared/utility';\r\n\r\nimport \"./Comments.css\";\r\n\r\nclass Comments extends Component {\r\n  state = {\r\n    formControls: {\r\n      comment: {\r\n        elementType: \"textarea\",\r\n        elementConfig: {\r\n          placeholder: \"Leave a comment\",\r\n          rows: 5\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n          minLength: 1\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      }\r\n    },\r\n    formIsValid: false,\r\n    selectedComment: null,\r\n    editing: false,\r\n    reply: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.onFetchComments(this.props.postId);\r\n  }\r\n  \r\n  onChangeHandler = (event, inputElement) => {\r\n    const updatedState = { ...this.state.formControls };\r\n    const updatedInput = { ...this.state.formControls[inputElement] };\r\n    updatedInput.value = event.target.value;\r\n    updatedInput.valid = checkValidity(\r\n      event.target.value,\r\n      this.state.formControls[inputElement].validation\r\n    );\r\n    updatedInput.touched = true;\r\n    updatedState[inputElement] = updatedInput;\r\n\r\n    let formIsValid = true;\r\n    for (let key in updatedState) {\r\n      formIsValid = formIsValid && updatedState[key].valid;\r\n    }\r\n\r\n    this.setState({ formControls: updatedState, formIsValid: formIsValid });\r\n  };\r\n\r\n  onSubmitHandler = event => {\r\n    event.preventDefault();\r\n    const newComment = {\r\n      date: new Date().toLocaleDateString(),\r\n      content: this.state.formControls.comment.value,\r\n      displayName: this.props.displayName,\r\n      userId: this.props.userId\r\n    };\r\n\r\n    this.props.onCreateComment(\r\n      this.props.postId,\r\n      this.props.token,\r\n      newComment\r\n    );\r\n\r\n    // clear inputs\r\n    const updatedState = { ...this.state.formControls };\r\n    const updatedInput = { ...this.state.formControls.comment };\r\n    updatedInput.value = \"\";\r\n    updatedState.comment = updatedInput;\r\n\r\n    this.setState({ formControls: updatedState, formIsValid: false });\r\n  };\r\n\r\n  redirectHandler = () => {\r\n    this.props.onSetAuthRedirectPath(\"/posts/\" + this.props.postId);\r\n    this.props.onCommenting(true);\r\n    this.props.history.push(\"/auth\");\r\n  };\r\n\r\n  onEditingHandler = commentId => {\r\n    this.setState({ editing: true });\r\n    this.setState({ selectedComment: commentId });\r\n  };\r\n\r\n  onReplyHandler = commentId => {\r\n    if (this.props.isAuth) {\r\n      this.setState({ reply: true });\r\n      this.setState({ selectedComment: commentId });\r\n    } else {\r\n      this.props.history.push(\"/auth\");\r\n    }\r\n  };\r\n\r\n  onCancelEditingHandler = () => {\r\n    this.setState({ editing: false });\r\n    this.setState({ reply: false });\r\n  };\r\n\r\n  render() {\r\n    let formElementsArray = [];\r\n    for (let key in this.state.formControls) {\r\n      formElementsArray.push({\r\n        id: key,\r\n        config: this.state.formControls[key]\r\n      });\r\n    }\r\n\r\n    let form = (\r\n      <form onSubmit={this.onSubmitHandler}>\r\n        <fieldset disabled={!this.props.token}>\r\n          {formElementsArray.map(formElement => (\r\n            <Input\r\n              key={formElement.id}\r\n              elementType={formElement.config.elementType}\r\n              value={formElement.config.value}\r\n              elementConfig={formElement.config.elementConfig}\r\n              touched={formElement.config.touched}\r\n              invalid={!formElement.config.valid}\r\n              changed={event => this.onChangeHandler(event, formElement.id)}\r\n            />\r\n          ))}\r\n        </fieldset>\r\n        {this.props.isAuth ? (\r\n          <BigButton\r\n            disabled={!this.state.formIsValid || !this.props.isAuth}\r\n            btnType=\"BigBtnSuccess\"\r\n            style={{left: '50%', transform:'translateX(-50%)'}}\r\n          >\r\n            Submit\r\n          </BigButton>\r\n        ) : (\r\n          <Link to=\"/auth\">\r\n            <BigButton style={{left: '50%', marginTop: '20px'}} clicked={this.redirectHandler} btnType=\"BigBtnSuccess\">\r\n              Sign In to comment\r\n            </BigButton>\r\n          </Link>\r\n        )}\r\n      </form>\r\n    );\r\n\r\n    let comment = (\r\n      <Comment\r\n        reply={this.state.reply}\r\n        editing={this.state.editing}\r\n        selectedComment={this.state.selectedComment}\r\n        comments={replies(this.props.comments)}\r\n        postId={this.props.postId}\r\n        userId={this.props.userId}\r\n        onReply={this.onReplyHandler}\r\n        cancelEdit={this.onCancelEditingHandler}\r\n        onEdit={this.onEditingHandler}\r\n        onDeleteComment={this.props.onDeleteComment}\r\n        token={this.props.token}\r\n      />\r\n    );\r\n\r\n    if (this.props.loading) {\r\n      comment = <Spinner />;\r\n    }\r\n    return (\r\n      <div className={\"Comment--input\"}>\r\n        {comment}\r\n        {form}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuth: state.auth.token !== null,\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n    displayName: state.auth.displayName,\r\n    comments: state.comment.comments,\r\n    editing: state.comment.editing,\r\n    loading: state.comment.loading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFetchComments: postId => dispatch(actions.fetchComments(postId)),\r\n    onCreateComment: (postId, token, newComment) =>\r\n      dispatch(\r\n        actions.createComment(postId, token, newComment)\r\n      ),\r\n    onSetAuthRedirectPath: path => dispatch(actions.setAuthRedirectPath(path)),\r\n    onDeleteComment: (postId, id, token) =>\r\n      dispatch(actions.deleteComment(postId, id, token)),\r\n    onCommenting: commenting => dispatch(actions.commenting(commenting))\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(withErrorHandler(Comments, axios))\r\n);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Input from \"../../../../components/UI/Input/Input\";\r\nimport Button from \"../../../../components/UI/Button/Button\";\r\nimport { checkValidity, updateObject } from \"../../../../shared/utility\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../../store/actions/index\";\r\n\r\nimport \"./EditPost.css\";\r\n\r\nclass EditPost extends Component {\r\n  state = {\r\n    formControls: {\r\n      title: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"\"\r\n        },\r\n        value: this.props.titleValue,\r\n        validation: {\r\n          required: true\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      },\r\n      content: {\r\n        elementType: \"textarea\",\r\n        elementConfig: {\r\n          placeholder: \"\",\r\n          rows: 5\r\n        },\r\n        value: this.props.contentValue,\r\n        validation: {\r\n          required: true\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      }\r\n    },\r\n    formIsValid: false\r\n  };\r\n\r\n  submitHandler = event => {\r\n    event.preventDefault();\r\n\r\n    const editedPost = {};\r\n    editedPost.date = new Date().toLocaleDateString();\r\n    editedPost.displayName = this.props.displayName;\r\n    editedPost.userId = this.props.userId;\r\n\r\n    for (let key in this.state.formControls) {\r\n      editedPost[key] = this.state.formControls[key].value;\r\n    }\r\n    this.props.onEditPost(this.props.postId, this.props.token, editedPost);\r\n    this.props.cancel();\r\n  };\r\n\r\n\r\n  inputChangeHandler = (event, elementId) => {\r\n    // const updatedState = { ...this.state.formControls };\r\n    // const updatedInput = { ...this.state.formControls[elementId] };\r\n    // updatedInput.value = event.target.value;\r\n    // updatedInput.touched = true;\r\n    // updatedInput.valid = checkValidity(\r\n    //   event.target.value,\r\n    //   this.state.formControls[elementId].validation\r\n    // );\r\n    // updatedState[elementId] = updatedInput;\r\n\r\n    const updatedInput = updateObject(\r\n      this.state.formControls[elementId], {\r\n      value: event.target.value,\r\n      touched: true,\r\n      valid: checkValidity(\r\n          event.target.value,\r\n          this.state.formControls[elementId].validation\r\n         )\r\n      });\r\n\r\n      const updatedState = updateObject(this.state.formControls, {\r\n        [elementId] : updatedInput\r\n      });\r\n\r\n    let formIsValid = true;\r\n    for (let key in updatedState) {\r\n      // formIsValid = formIsValid && updatedState[key].valid;\r\n      formIsValid = formIsValid && checkValidity(\r\n        this.state.formControls[key].value,\r\n        this.state.formControls[key].validation\r\n       );\r\n    }\r\n    this.setState({ formControls: updatedState, formIsValid: formIsValid });\r\n    \r\n  };\r\n\r\n  render() {\r\n    const formElementsArray = [];\r\n    for (let key in this.state.formControls) {\r\n      formElementsArray.push({\r\n        id: key,\r\n        config: this.state.formControls[key]\r\n      });\r\n    }\r\n    let form = (\r\n      <form onSubmit={this.submitHandler}>\r\n        <fieldset disabled={!this.props.token}>\r\n          {formElementsArray.map(formElement => (\r\n            <Input\r\n              key={formElement.id}\r\n              elementType={formElement.config.elementType}\r\n              value={formElement.config.value}\r\n              elementConfig={formElement.config.elementConfig}\r\n              touched={formElement.config.touched}\r\n              invalid={!formElement.config.valid}\r\n              changed={event => this.inputChangeHandler(event, formElement.id)}\r\n            />\r\n          ))}\r\n        </fieldset>\r\n        <div className={\"EditPost--actions\"}>\r\n          <Button\r\n            disabled={!this.state.formIsValid || !this.props.token}\r\n            btnType={\"Success\"}\r\n          >\r\n            Save\r\n          </Button>\r\n\r\n          <Button\r\n            type={'button'}\r\n            clicked={this.props.cancel}\r\n            disabled={!this.props.token}\r\n            btnType={\"Danger\"}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    );\r\n    return <div className={\"EditPost--form\"}>{form}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n    displayName: state.auth.displayName\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onEditPost: (postId, token, editedPost) => dispatch(actions.editPost(postId, token, editedPost))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EditPost);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Button from \"../../../components/UI/Button/Button\";\r\nimport Comments from \"../Comments/Comments\";\r\nimport Aux from \"../../../hoc/Auxiliary/Auxiliary\";\r\nimport * as actions from \"../../../store/actions/index\";\r\nimport { connect } from \"react-redux\";\r\nimport EditPost from \"../SinglePost/EditPost/EditPost\";\r\nimport axios from '../../../axios-posts';\r\nimport withErrorHandler from '../../../hoc/withErrorHandler/withErrorHandler';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faComments } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport \"./SinglePost.css\";\r\nclass SinglePost extends Component {\r\n \r\n  state = {\r\n    editing: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const postId = this.props.match.params.id;\r\n    this.props.onFetchSinglePost(postId);\r\n    this.onShowAllCommentsHandler()\r\n  }\r\n\r\n\r\n  onDeleteHandler = id => {\r\n    this.props.onDeletePost(id, this.props.token);\r\n    if(!this.props.loading){\r\n      this.props.history.replace(\"/\");\r\n    }\r\n  };\r\n\r\n  onEditHandler = () => {\r\n    this.setState({ editing: true });\r\n  };\r\n\r\n  onCancelEditHandler = event => {\r\n    this.setState({ editing: false });\r\n  };\r\n\r\n  onShowAllCommentsHandler = () => {\r\n      let totalComments = 0;\r\n      if(this.props.comments.length > 0) {\r\n        totalComments = this.props.comments.length;\r\n      }\r\n      return totalComments;\r\n  };\r\n\r\n  render() {\r\n    const commentIcon = <FontAwesomeIcon icon={faComments}/>;\r\n    let post = null;\r\n    if (this.props.singlePost) {\r\n      post = this.props.singlePost.map(post =>\r\n        !this.state.editing ? (\r\n          <article className=\"SinglePost\" key={post.id}>\r\n            <h1 className={\"SinglePost--title\"}>{post.title}</h1>\r\n            <div className={\"SinglePost--body\"}>\r\n              <div className={\"SinglePost--header\"}>\r\n                <div className={\"SinglePost--author\"}>\r\n                  <strong>{post.displayName}</strong>\r\n                </div>\r\n                <span className={\"SinglePost--date\"}>\r\n                  <time dateTime={post.date}>{post.date}</time>\r\n                </span>\r\n                <span className={'SinglePost--counter'}>{commentIcon} {this.onShowAllCommentsHandler()} comments</span>\r\n              </div>\r\n              <div className={\"SinglePost--content\"}>\r\n                <p>{post.content}</p>\r\n              </div>\r\n              <div className=\"SinglePost--actions\">\r\n                {this.props.userId === post.userId && (\r\n                  <Button\r\n                    clicked={this.onEditHandler}\r\n                    btnType=\"Success\"\r\n                    className=\"Edit\"\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                )}\r\n                {this.props.userId === post.userId && (\r\n                  <Button\r\n                    btnType=\"Danger\"\r\n                    clicked={() => this.onDeleteHandler(post.id)}\r\n                    className=\"Delete\"\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </article>\r\n        ) : (\r\n          <EditPost\r\n            titleValue={post.title}\r\n            contentValue={post.content}\r\n            postId={post.id}\r\n            cancel={this.onCancelEditHandler}\r\n            key={post.id}\r\n          />\r\n        )\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Aux>\r\n        {post}\r\n        <Comments postId={this.props.match.params.id} />\r\n      </Aux>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n    singlePost: state.post.singlePost,\r\n    comments: state.comment.comments,\r\n    loading: state.post.loading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onDeletePost: (id, token) => dispatch(actions.deletePost(id, token)),\r\n    onFetchSinglePost: id => dispatch(actions.fetchSinglePost(id))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(SinglePost, axios));\r\n","import React, { Component } from \"react\";\n\nimport Layout from \"./hoc/Layout/Layout\";\nimport Auth from \"./containers/Auth/Auth\";\nimport Logout from \"./containers/Auth/Logout/Logout\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport Blog from \"./containers/Blog/Blog\";\nimport NewPost from \"./containers/Blog/NewPost/NewPost\";\nimport SinglePost from \"./containers/Blog/SinglePost/SinglePost\";\n\nimport {connect} from 'react-redux';\nimport * as actions from './store/actions/index';\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.onTryAutoSignUp();\n  }\n\n  // login = (token, userId, displayName) => {\n  //   this.setState({ token: token, userId: userId, displayName: displayName });\n  // };\n\n  // logout = () => {\n  //   localStorage.removeItem(\"token\");\n  //   localStorage.removeItem(\"expirationDate\");\n  //   localStorage.removeItem(\"userId\");\n  //   localStorage.removeItem(\"displayName\");\n  //   this.setState({ token: null, userId: null, displayName: null });\n  // };\n\n  // setAuthRedirectPath = (path, commenting) => {\n  //   this.setState({ authRedirectPath: path, commenting: commenting });\n  // };\n\n  // checkAuthTimeout = expirationTime => {\n  //   setTimeout(() => {\n  //     this.logout();\n  //   }, expirationTime * 1000);\n  // };\n\n  // authCheckState = () => {\n  //   const token = localStorage.getItem(\"token\");\n  //   if (!token) {\n  //     this.logout();\n  //   } else {\n  //     const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\n  //     if (expirationDate > new Date()) {\n  //       const userId = localStorage.getItem(\"userId\");\n  //       const displayName = localStorage.getItem(\"displayName\");\n  //       this.login(token, userId, displayName);\n  //       this.checkAuthTimeout(\n  //         (expirationDate.getTime() - new Date().getTime()) / 1000\n  //       );\n  //     } else {\n  //       this.logout();\n  //     }\n  //   }\n  // };\n\n  render() {\n    let routes = (\n      <Switch>\n        <Route path=\"/auth\" component={Auth} />\n        <Route path=\"/posts/:id\" component={SinglePost} exact />\n        <Route path=\"/\" component={Blog} exact />\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n\n    if (this.props.token !== null) {\n      routes = (\n        <Switch>\n          <Route path=\"/new-post\" component={NewPost} /> }\n          <Route path=\"/logout\" component={Logout} />\n          <Route path=\"/auth\" component={Auth} />\n          <Route path=\"/posts/:id\" component={SinglePost} exact />\n          <Route path=\"/\" component={Blog} exact />\n          <Redirect to=\"/\" />\n        </Switch>\n      );\n    }\n\n    return (\n      <div>\n          <Layout>\n            {routes}\n          </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignUp: () => dispatch(actions.authCheckState())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from '../actions/actionTypes';\r\nimport {updateObject} from '../../shared/utility';\r\n\r\n\r\nconst initialState = {\r\n    token: null,\r\n    userId: null,\r\n    displayName: null,\r\n    authRedirectPath: '/',\r\n    loading: false,\r\n    error: null\r\n};\r\n\r\nconst authStart = (state=initialState, action) => {\r\n    return updateObject(state, { error: null, loading: true });\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n    return updateObject(state, {\r\n        token: action.token,\r\n        userId: action.userId,\r\n        displayName: action.displayName,\r\n        error: null,\r\n        loading: false\r\n    });\r\n};\r\n\r\nconst authFail = (state,action) => {\r\n    return updateObject(state, {\r\n        error: action.error,\r\n         loading: false\r\n    });\r\n};\r\n\r\nconst authLogout = (state, action) => {\r\n    return updateObject(state, {\r\n        token: null,\r\n        userId: null,\r\n        displayName: null\r\n    });\r\n};\r\n\r\nconst setAuthRedirectPath = (state, action) => {\r\n    return updateObject(state, {authRedirectPath: action.path});\r\n};\r\n\r\nconst createUserStart = (state, action) => {\r\n    return updateObject(state, {\r\n        loading: true\r\n    });\r\n};\r\n\r\nconst createUserSuccess = (state, action) => {\r\n    return updateObject(state, {\r\n        loading: false\r\n    });\r\n};\r\n\r\nconst createUserFail = (state, action) => {\r\n    return updateObject(state, {\r\n        loading: false,\r\n        error: action.error\r\n    });\r\n};\r\n\r\nconst checkUserExistsStart = (state, action) => {\r\n    return updateObject(state, {loading: true});\r\n};\r\n\r\nconst checkUserExistsSuccess = (state, action) => {\r\n    return updateObject(state, {loading: false});\r\n};\r\n\r\nconst checkUserExistsFail = (state, action) => {\r\n    return updateObject(state, {loading: false, error: action.error});\r\n};\r\n\r\nconst reducer = (state= initialState, action)=>{\r\n    switch(action.type){\r\n        case actionTypes.AUTH_START: return authStart(state, action);\r\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\r\n        case actionTypes.AUTH_FAIL: return authFail(state, action);\r\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\r\n        case actionTypes.SET_AUTH_REDIRECT_PATH: return setAuthRedirectPath(state, action);\r\n        case actionTypes.CREATE_USER_START: return createUserStart(state, action);\r\n        case actionTypes.CREATE_USER_SUCCESS: return createUserSuccess(state, action);\r\n        case actionTypes.CREATE_USER_FAIL: return createUserFail(state, action);\r\n        case actionTypes.CHECK_USER_EXISTS_START: return checkUserExistsStart(state, action);\r\n        case actionTypes.CHECK_USER_EXISTS_SUCCESS: return checkUserExistsSuccess(state, action);\r\n        case actionTypes.CHECK_USER_EXISTS_FAIL: return checkUserExistsFail(state, action);\r\n        default: return state;\r\n    };\r\n};\r\n\r\nexport default reducer;","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../../shared/utility\";\r\n\r\nconst initialState = {\r\n  comments: [],\r\n  loading: false,\r\n  error: false,\r\n  commenting: false\r\n};\r\n\r\nconst commenting = (state, action) => {\r\n  return updateObject(state, { commenting: action.commenting });\r\n};\r\n\r\nconst fetchCommentsStart = (state, action) => {\r\n  return updateObject(state, { loading: true });\r\n};\r\n\r\nconst fetchCommentsSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    comments: action.comments\r\n  });\r\n};\r\n\r\nconst fetchCommentsFail = (state, action) => {\r\n  return updateObject(state, { loading: false, error: action.error });\r\n};\r\n\r\nconst createCommentStart = (state, action) => {\r\n  return updateObject(state, { loading: true });\r\n};\r\n\r\nconst createCommentSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    comments: state.comments.concat(action.comment)\r\n  });\r\n};\r\n\r\nconst createCommentFail = (state, action) => {\r\n  return updateObject(state, { loading: false, error: action.error });\r\n};\r\n\r\nconst deleteCommentStart = (state, action) => {\r\n  return updateObject(state, { loading: true });\r\n};\r\n\r\nconst deleteCommentSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    comments: state.comments.filter(comment => comment.id !== action.id)\r\n  });\r\n};\r\n\r\nconst deleteCommentFail = (state, action) => {\r\n  return updateObject(state, { loading: false, error: action.error });\r\n};\r\n\r\nconst editCommentStart = (state, action) => {\r\n  return updateObject(state, { loading: true });\r\n};\r\n\r\nconst editCommentSuccess = (state, action) => {\r\n  const index = state.comments.findIndex(\r\n    comment => comment.id === action.editedComment.id\r\n  );\r\n  const updatedComments = state.comments.slice(0);\r\n  updatedComments[index].content = action.editedComment.content;\r\n\r\n  return updateObject(state, {\r\n    loading: false,\r\n    comments: updatedComments\r\n  });\r\n};\r\n\r\nconst editCommentFail = (state, action) => {\r\n  return updateObject(state, { loading: false, error: action.error });\r\n};\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.COMMENTING:\r\n      return commenting(state, action);\r\n    case actionTypes.FETCH_COMMENTS_START:\r\n      return fetchCommentsStart(state, action);\r\n    case actionTypes.FETCH_COMMENTS_SUCCESS:\r\n      return fetchCommentsSuccess(state, action);\r\n    case actionTypes.FETCH_COMMENTS_FAILED:\r\n      return fetchCommentsFail(state, action);\r\n    case actionTypes.CREATE_COMMENT_START:\r\n      return createCommentStart(state, action);\r\n    case actionTypes.CREATE_COMMENT_SUCCESS:\r\n      return createCommentSuccess(state, action);\r\n    case actionTypes.CREATE_COMMENT_FAIL:\r\n      return createCommentFail(state, action);\r\n    case actionTypes.DELETE_COMMENT_START:\r\n      return deleteCommentStart(state, action);\r\n    case actionTypes.DELETE_COMMENT_SUCCESS:\r\n      return deleteCommentSuccess(state, action);\r\n    case actionTypes.DELETE_COMMENT_FAIL:\r\n      return deleteCommentFail(state, action);\r\n    case actionTypes.EDIT_COMMENT_START:\r\n      return editCommentStart(state, action);\r\n    case actionTypes.EDIT_COMMENT_SUCCESS:\r\n      return editCommentSuccess(state, action);\r\n    case actionTypes.EDIT_COMMENT_FAIL:\r\n      return editCommentFail(state, action);  \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from '../actions/actionTypes';\r\nimport {updateObject} from '../../shared/utility';\r\n\r\n\r\nconst initialState = {\r\n    posts: [],\r\n    loading: false,\r\n    error: false,\r\n    singlePost: []\r\n};\r\n\r\nconst createPostStart = (state, action) => {\r\n    return updateObject(state, {loading: true});\r\n};\r\n\r\nconst createPostSuccess = (state, action) => {\r\n    const newPost = updateObject(action.newPost, {id: action.id});\r\n    return updateObject(state, {\r\n        posts: state.posts.concat(newPost),\r\n        loading: false\r\n    });\r\n};\r\n\r\nconst createPostFail = (state, action) => {\r\n    return updateObject(state, {\r\n        error: action.error,\r\n        loading: false\r\n    });\r\n};\r\n\r\nconst fetchPostsStart = (state, action) => {\r\n    return updateObject(state, {loading: true});\r\n};\r\n\r\nconst fetchPostsSuccess = (state, action) => {\r\n    return updateObject(state, {\r\n        posts: action.posts,\r\n        loading: false\r\n    })\r\n};\r\n\r\nconst fetchPostsFailed = (state, action) => {\r\n    return updateObject(state, {loading: false, error: action.error});\r\n};\r\n\r\nconst deletePostStart = (state, action) => {\r\n    return updateObject(state, {loading: true});\r\n};\r\n\r\nconst deletePostSuccess = (state, action) => {\r\n    return updateObject(state, {\r\n        loading: false,\r\n        singlePost: [...state.singlePost].filter(post => post.id !== action.id),\r\n        posts: [...state.posts].filter(post => post.id !== action.id)\r\n    });\r\n};\r\n\r\nconst deletePostFail = (state, action) => {\r\n    return updateObject(state, {\r\n        loading: false,\r\n        error: action.error\r\n    });\r\n};\r\n\r\nconst fetchSinglePostStart = (state, action) => {\r\n    return updateObject(state, {loading: true});\r\n};\r\n\r\nconst fetchSinglePostSuccess = (state, action) => {\r\n    return updateObject(state, {loading: false, singlePost: action.singlePost});\r\n};\r\n\r\nconst fetchSinglePostFail = (state, action) => {\r\n    return updateObject(state, {loading: false, error: action.error});\r\n};\r\n\r\nconst editPostStart = (state, action) => {\r\n    return updateObject(state, {loading: true});\r\n};\r\n\r\nconst editPostSuccess = (state, action) => {\r\n    const updatedPost = [...state.singlePost];\r\n    updatedPost[0] = action.editedPost;\r\n\r\n    return updateObject(state, {\r\n        singlePost: updatedPost,\r\n        loading: false\r\n    });\r\n};\r\n\r\nconst editPostFail = (state, action) => {\r\n    return updateObject(state, {loading: false, error: action.error});\r\n};\r\n\r\n\r\nconst reducer = (state=initialState, action) => {\r\n    switch(action.type) {\r\n        case actionTypes.CREATE_POST_START: return createPostStart(state,action);\r\n        case actionTypes.CREATE_POST_SUCCESS: return createPostSuccess(state,action);\r\n        case actionTypes.CREATE_POST_FAIL: return createPostFail(state, action);\r\n        case actionTypes.FETCH_POSTS_START: return fetchPostsStart(state, action);\r\n        case actionTypes.FETCH_POSTS_SUCCESS: return fetchPostsSuccess(state, action);\r\n        case actionTypes.FETCH_POSTS_FAILED: return fetchPostsFailed(state, action);\r\n        case actionTypes.DELETE_POST_START: return deletePostStart(state,action);\r\n        case actionTypes.DELETE_POST_SUCCESS: return deletePostSuccess(state, action);\r\n        case actionTypes.DELETE_POST_FAIL: return deletePostFail(state,action);\r\n        case actionTypes.FETCH_SINGLE_POST_START: return fetchSinglePostStart(state, action);\r\n        case actionTypes.FETCH_SINGLE_POST_SUCCESS: return fetchSinglePostSuccess(state, action);\r\n        case actionTypes.FETCH_SINGLE_POST_FAIL: return fetchSinglePostFail(state, action);\r\n        case actionTypes.EDIT_POST_START: return editPostStart(state, action);\r\n        case actionTypes.EDIT_POST_SUCCESS: return editPostSuccess(state, action);\r\n        case actionTypes.EDIT_POST_FAIL: return editPostFail(state, action);\r\n        default: return state;\r\n    };\r\n};\r\n\r\nexport default reducer;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport authReducer from './store/reducers/auth';\nimport commentReducer from \"./store/reducers/comment\";\nimport postReducer from \"./store/reducers/post\";\n\nimport \"./index.css\";\n\nconst composeEnhancers =\n  (process.env.NODE_ENV === \"development\"\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    : null) || compose;\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  comment: commentReducer,\n  post: postReducer\n});\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nconst app = (\n  <Provider store={store}>\n    <BrowserRouter basename='/simple-blog'>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/react-logo.80687d23.png\";"],"sourceRoot":""}